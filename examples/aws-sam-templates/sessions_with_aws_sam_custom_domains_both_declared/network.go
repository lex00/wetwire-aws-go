// Package template contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/apigatewayv2"
	"github.com/lex00/wetwire-aws-go/resources/route53"
)

var CustomDomainNameDomainNameConfiguration1 = apigatewayv2.DomainName_DomainNameConfiguration{
	CertificateArn: If{"CreateCert", GeneratedCert, CertArn},
	EndpointType: "REGIONAL",
}

var CustomDomainName = apigatewayv2.DomainName{
	DomainName: DomainName,
	DomainNameConfigurations: []any{CustomDomainNameDomainNameConfiguration1},
}

var GeneratedZone = route53.HostedZone{
	Name: DomainName,
}

var HttpApiMapping = apigatewayv2.ApiMapping{
	ApiId: HttpApiGateway,
	ApiMappingKey: "http",
	DomainName: CustomDomainName,
	Stage: HttpApiGatewayApiGatewayDefaultStage,
}

var RestApiMapping = apigatewayv2.ApiMapping{
	ApiId: RestApiGateway,
	ApiMappingKey: "rest",
	DomainName: CustomDomainName,
	Stage: RestApiGatewayProdStage,
}

var RecordSetAliasTarget = route53.RecordSet_AliasTarget{
	DNSName: CustomDomainName.RegionalDomainName,
	HostedZoneId: CustomDomainName.RegionalHostedZoneId,
}

var RecordSet = route53.RecordSet{
	AliasTarget: RecordSetAliasTarget,
	HostedZoneId: If{"CreateZone", GeneratedZone, ZoneId},
	Name: DomainName,
	Type_: "A",
}
