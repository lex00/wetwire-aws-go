// Package template contains CloudFormation resources.
// Main resources
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/serverless"
)

var MyApiAuth = serverless.Api_Auth{
	DefaultAuthorizer: "AWS_IAM",
	InvokeRole: "CALLER_CREDENTIALS",
}

var MyApi = serverless.Api{
	AccessLogSetting: Json{
	"DestinationArn": MyLogGroup.Arn,
	"Format": `{"requestId":"$context.requestId", "waf-error":"$context.waf.error", "waf-status":"$context.waf.status", "waf-latency":"$context.waf.latency", "waf-response":"$context.wafResponseCode", "authenticate-error":"$context.authenticate.error", "authenticate-status":"$context.authenticate.status", "authenticate-latency":"$context.authenticate.latency", "authorize-error":"$context.authorize.error", "authorize-status":"$context.authorize.status", "authorize-latency":"$context.authorize.latency", "integration-error":"$context.integration.error", "integration-status":"$context.integration.status", "integration-latency":"$context.integration.latency", "integration-requestId":"$context.integration.requestId", "integration-integrationStatus":"$context.integration.integrationStatus", "response-latency":"$context.responseLatency", "status":"$context.status"}
`,
},
	Auth: &MyApiAuth,
	EndpointConfiguration: "REGIONAL",
	StageName: "Prod",
	TracingEnabled: true,
}

var MyLambdaFunction = serverless.Function{
	CodeUri: "src/",
	Events: Json{
	"RootGet": Json{
	"Properties": Json{
	"Method": "get",
	"Path": "/",
	"RestApiId": MyApi,
},
	"Type": "Api",
},
},
}
