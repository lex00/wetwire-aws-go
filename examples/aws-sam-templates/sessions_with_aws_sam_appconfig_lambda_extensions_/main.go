// Package template contains CloudFormation resources.
// Main resources
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/appconfig"
	"github.com/lex00/wetwire-aws-go/resources/serverless"
)

var AppConfigLayerMapping = map[string]map[string]interface {}{"af-south-1":map[string]interface {}{"ARN":"arn:aws:lambda:af-south-1:574348263942:layer:AWS-AppConfig-Extension:1"}, "ap-east-1":map[string]interface {}{"ARN":"arn:aws:lambda:ap-east-1:630222743974:layer:AWS-AppConfig-Extension:1"}, "ap-northeast-1":map[string]interface {}{"ARN":"arn:aws:lambda:ap-northeast-1:980059726660:layer:AWS-AppConfig-Extension:1"}, "ap-northeast-2":map[string]interface {}{"ARN":"arn:aws:lambda:ap-northeast-2:826293736237:layer:AWS-AppConfig-Extension:1"}, "ap-south-1":map[string]interface {}{"ARN":"arn:aws:lambda:ap-south-1:554480029851:layer:AWS-AppConfig-Extension:1"}, "ap-southeast-1":map[string]interface {}{"ARN":"arn:aws:lambda:ap-southeast-1:421114256042:layer:AWS-AppConfig-Extension:1"}, "ap-southeast-2":map[string]interface {}{"ARN":"arn:aws:lambda:ap-southeast-2:080788657173:layer:AWS-AppConfig-Extension:1"}, "ca-central-1":map[string]interface {}{"ARN":"arn:aws:lambda:ca-central-1:039592058896:layer:AWS-AppConfig-Extension:1"}, "eu-central-1":map[string]interface {}{"ARN":"arn:aws:lambda:eu-central-1:066940009817:layer:AWS-AppConfig-Extension:1"}, "eu-north-1":map[string]interface {}{"ARN":"arn:aws:lambda:eu-north-1:646970417810:layer:AWS-AppConfig-Extension:1"}, "eu-south-1":map[string]interface {}{"ARN":"arn:aws:lambda:eu-south-1:203683718741:layer:AWS-AppConfig-Extension:1"}, "eu-west-1":map[string]interface {}{"ARN":"arn:aws:lambda:eu-west-1:434848589818:layer:AWS-AppConfig-Extension:1"}, "eu-west-2":map[string]interface {}{"ARN":"arn:aws:lambda:eu-west-2:282860088358:layer:AWS-AppConfig-Extension:1"}, "eu-west-3":map[string]interface {}{"ARN":"arn:aws:lambda:eu-west-3:493207061005:layer:AWS-AppConfig-Extension:1"}, "me-south-1":map[string]interface {}{"ARN":"arn:aws:lambda:me-south-1:559955524753:layer:AWS-AppConfig-Extension:1"}, "sa-east-1":map[string]interface {}{"ARN":"arn:aws:lambda:sa-east-1:000010852771:layer:AWS-AppConfig-Extension:1"}, "us-east-1":map[string]interface {}{"ARN":"arn:aws:lambda:us-east-1:027255383542:layer:AWS-AppConfig-Extension:1"}, "us-east-2":map[string]interface {}{"ARN":"arn:aws:lambda:us-east-2:728743619870:layer:AWS-AppConfig-Extension:1"}, "us-west-1":map[string]interface {}{"ARN":"arn:aws:lambda:us-west-1:958113053741:layer:AWS-AppConfig-Extension:1"}, "us-west-2":map[string]interface {}{"ARN":"arn:aws:lambda:us-west-2:359756378197:layer:AWS-AppConfig-Extension:1"}}

var AppConfigLambdaApplication = appconfig.Application{
	Name: AppName,
}

var AppConfigLambdaConfigurationProfileValidatorJSONSCHEMA = appconfig.ConfigurationProfile_Validators{
	Content: "{ \"$schema\": \"http://json-schema.org/draft-04/schema#\", \"type\": \"object\", \"properties\": { \"isEnabled\": { \"type\": \"boolean\" }, \"messageOption\": { \"type\": \"string\", \"minimum\": 0 } }, \"required\": [\"isEnabled\", \"messageOption\"] }",
	Type_: "JSON_SCHEMA",
}

var AppConfigLambdaConfigurationProfile = appconfig.ConfigurationProfile{
	ApplicationId: AppConfigLambdaApplication,
	LocationUri: "hosted",
	Name: AppName,
	Validators: []any{AppConfigLambdaConfigurationProfileValidatorJSONSCHEMA},
}

var AppConfigLambdaConfigurationVersion = appconfig.HostedConfigurationVersion{
	ApplicationId: AppConfigLambdaApplication,
	ConfigurationProfileId: AppConfigLambdaConfigurationProfile,
	Content: "{ \"isEnabled\": false, \"messageOption\": \"AppConfig\" }",
	ContentType: "application/json",
}

var AppConfigLambdaDeploymentStrategy = appconfig.DeploymentStrategy{
	DeploymentDurationInMinutes: 0,
	FinalBakeTimeInMinutes: 0,
	GrowthFactor: 100,
	GrowthType: "LINEAR",
	Name: AppName,
	ReplicateTo: "NONE",
}

var AppConfigLambdaEnvironment = appconfig.Environment{
	ApplicationId: AppConfigLambdaApplication,
	Name: AppName,
}

var AppConfigLambdaDeployment = appconfig.Deployment{
	ApplicationId: AppConfigLambdaApplication,
	ConfigurationProfileId: AppConfigLambdaConfigurationProfile,
	ConfigurationVersion: AppConfigLambdaConfigurationVersion,
	DeploymentStrategyId: AppConfigLambdaDeploymentStrategy,
	EnvironmentId: AppConfigLambdaEnvironment,
}

var HttpApi = serverless.HttpApi{
	FailOnWarnings: true,
}

var AppConfigLambdaFunctionEnvironment = serverless.Function_Environment{
	Variables: Json{"APPCONFIG_APPLICATION": AppConfigLambdaApplication, "APPCONFIG_CONFIGURATION": AppConfigLambdaConfigurationProfile, "APPCONFIG_ENVIRONMENT": AppConfigLambdaEnvironment},
}

var AppConfigLambdaFunction = serverless.Function{
	CodeUri: "src/",
	Environment: &AppConfigLambdaFunctionEnvironment,
	Events: Json{
	"AppConfigLambda": Json{
	"Properties": Json{
	"ApiId": HttpApi,
	"Method": "GET",
	"Path": "/",
},
	"Type": "HttpApi",
},
},
	Handler: "app.handler",
	Layers: []any{FindInMap{"AppConfigLayer", AWS_REGION, "ARN"}},
	Policies: []any{Json{
	"Statement": []any{Json{
	"Action": []any{"appconfig:GetConfiguration"},
	"Effect": "Allow",
	"Resource": []any{Join{Delimiter: "", Values: []any{
	"arn:aws:appconfig:*:*:application/",
	AppConfigLambdaApplication,
}}, Join{Delimiter: "", Values: []any{
	"arn:aws:appconfig:*:*:application/",
	AppConfigLambdaApplication,
	"/configurationprofile/",
	AppConfigLambdaConfigurationProfile,
}}, Join{Delimiter: "", Values: []any{
	"arn:aws:appconfig:*:*:application/",
	AppConfigLambdaApplication,
	"/environment/",
	AppConfigLambdaEnvironment,
}}},
}},
	"Version": "2012-10-17",
}},
	Runtime: "nodejs16.x",
}
