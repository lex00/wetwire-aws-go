// Package template contains CloudFormation resources.
// Main resources
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/serverless"
)

var MyHttpApiCorsConfiguration = serverless.HttpApi_CorsConfiguration{
	AllowMethods: []any{"GET"},
	AllowOrigins: []any{"http://localhost:8080"},
}

var MyHttpApi = serverless.HttpApi{
	AccessLogSettings: Json{
	"DestinationArn": MyLogGroup.Arn,
	"Format": "{ \"requestId\":\"$context.requestId\", \"ip\": \"$context.identity.sourceIp\", \"requestTime\":\"$context.requestTime\", \"httpMethod\":\"$context.httpMethod\",\"routeKey\":\"$context.routeKey\", \"status\":\"$context.status\",\"protocol\":\"$context.protocol\", \"responseLength\":\"$context.responseLength\", \"integrationError\":\"$context.integrationErrorMessage\" }",
},
	CorsConfiguration: MyHttpApiCorsConfiguration,
}

var HelloWorldFunction = serverless.Function{
	CodeUri: "src/",
	Events: Json{
	"HelloWorld": Json{
	"Properties": Json{
	"ApiId": MyHttpApi,
	"Method": "GET",
	"Path": "/",
},
	"Type": "HttpApi",
},
},
	Handler: "app.lambdaHandler",
	Runtime: "nodejs16.x",
}
