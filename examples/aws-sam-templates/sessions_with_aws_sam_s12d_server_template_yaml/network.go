// Package template contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/cloudfront"
)

var CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig = cloudfront.CachePolicy_QueryStringsConfig{
	QueryStringBehavior: "all",
}

var CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig = cloudfront.CachePolicy_HeadersConfig{
	HeaderBehavior: "whitelist",
	Headers: []any{"Authorization"},
}

var CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig = cloudfront.CachePolicy_CookiesConfig{
	CookieBehavior: "none",
}

var CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOrigin = cloudfront.CachePolicy_ParametersInCacheKeyAndForwardedToOrigin{
	CookiesConfig: CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig,
	EnableAcceptEncodingBrotli: true,
	EnableAcceptEncodingGzip: true,
	HeadersConfig: CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig,
	QueryStringsConfig: CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig,
}

var CloudFrontCachePolicyAPICachePolicyConfig = cloudfront.CachePolicy_CachePolicyConfig{
	DefaultTTL: 30,
	MaxTTL: 60,
	MinTTL: 0,
	Name: Sub{String: "${AppName}-API"},
	ParametersInCacheKeyAndForwardedToOrigin: CloudFrontCachePolicyAPICachePolicyConfigParametersInCacheKeyAndForwardedToOrigin,
}

var CloudFrontCachePolicyAPI = cloudfront.CachePolicy{
	CachePolicyConfig: CloudFrontCachePolicyAPICachePolicyConfig,
}

var CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig = cloudfront.CachePolicy_QueryStringsConfig{
	QueryStringBehavior: "all",
}

var CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig = cloudfront.CachePolicy_HeadersConfig{
	HeaderBehavior: "none",
}

var CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig = cloudfront.CachePolicy_CookiesConfig{
	CookieBehavior: "none",
}

var CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOrigin = cloudfront.CachePolicy_ParametersInCacheKeyAndForwardedToOrigin{
	CookiesConfig: CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig,
	EnableAcceptEncodingBrotli: true,
	EnableAcceptEncodingGzip: true,
	HeadersConfig: CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig,
	QueryStringsConfig: CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig,
}

var CloudFrontCachePolicyClientCachePolicyConfig = cloudfront.CachePolicy_CachePolicyConfig{
	DefaultTTL: 3600,
	MaxTTL: 31536000,
	MinTTL: 1,
	Name: Sub{String: "${AppName}-client"},
	ParametersInCacheKeyAndForwardedToOrigin: CloudFrontCachePolicyClientCachePolicyConfigParametersInCacheKeyAndForwardedToOrigin,
}

var CloudFrontCachePolicyClient = cloudfront.CachePolicy{
	CachePolicyConfig: CloudFrontCachePolicyClientCachePolicyConfig,
}

var CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig = cloudfront.CachePolicy_QueryStringsConfig{
	QueryStringBehavior: "none",
}

var CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig = cloudfront.CachePolicy_HeadersConfig{
	HeaderBehavior: "none",
}

var CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig = cloudfront.CachePolicy_CookiesConfig{
	CookieBehavior: "none",
}

var CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOrigin = cloudfront.CachePolicy_ParametersInCacheKeyAndForwardedToOrigin{
	CookiesConfig: CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig,
	EnableAcceptEncodingBrotli: true,
	EnableAcceptEncodingGzip: true,
	HeadersConfig: CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig,
	QueryStringsConfig: CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig,
}

var CloudFrontCachePolicyDefaultCachePolicyConfig = cloudfront.CachePolicy_CachePolicyConfig{
	DefaultTTL: 900,
	MaxTTL: 10800,
	MinTTL: 1,
	Name: Sub{String: "${AppName}-default"},
	ParametersInCacheKeyAndForwardedToOrigin: CloudFrontCachePolicyDefaultCachePolicyConfigParametersInCacheKeyAndForwardedToOrigin,
}

var CloudFrontCachePolicyDefault = cloudfront.CachePolicy{
	CachePolicyConfig: CloudFrontCachePolicyDefaultCachePolicyConfig,
}

var CloudFrontLogDistroEndPoint1KinesisStreamConfig = cloudfront.RealtimeLogConfig_KinesisStreamConfig{
	RoleArn: LoggingRole.Arn,
	StreamArn: LoggingStream.Arn,
}

var CloudFrontLogDistroEndPoint1 = cloudfront.RealtimeLogConfig_EndPoint{
	KinesisStreamConfig: CloudFrontLogDistroEndPoint1KinesisStreamConfig,
	StreamType: "Kinesis",
}

var CloudFrontLogDistro = cloudfront.RealtimeLogConfig{
	EndPoints: []any{CloudFrontLogDistroEndPoint1},
	Fields: []any{"timestamp", "c-ip", "sc-status", "cs-uri-stem", "c-country"},
	Name: Sub{String: "LoggingConfig-${AppName}"},
	SamplingRate: 100,
}

var CloudFrontDistroDistributionConfigOriginAmplifyClientCustomOriginConfig = cloudfront.Distribution_CustomOriginConfig{
	OriginProtocolPolicy: "https-only",
}

var CloudFrontDistroDistributionConfigOriginURLShortenerAPIGWCustomOriginConfig = cloudfront.Distribution_CustomOriginConfig{
	OriginProtocolPolicy: "https-only",
}

var CloudFrontDistroDistributionConfigViewerCertificate = cloudfront.Distribution_ViewerCertificate{
	AcmCertificateArn: "{{resolve:ssm:/acm/cert/s12d-com:1}}",
	SslSupportMethod: "sni-only",
}

var CloudFrontDistroDistributionConfigOriginAmplifyClient = cloudfront.Distribution_Origin{
	CustomOriginConfig: CloudFrontDistroDistributionConfigOriginAmplifyClientCustomOriginConfig,
	DomainName: ClientAddress,
	Id: "AmplifyClient",
}

var CloudFrontDistroDistributionConfigOriginURLShortenerAPIGW = cloudfront.Distribution_Origin{
	CustomOriginConfig: CloudFrontDistroDistributionConfigOriginURLShortenerAPIGWCustomOriginConfig,
	DomainName: Sub{String: "${SiteAPI}.execute-api.${AWS::Region}.amazonaws.com"},
	Id: "URLShortenerAPIGW",
	OriginPath: "/Prod",
}

var CloudFrontDistroDistributionConfigLogging = cloudfront.Distribution_Logging{
	Bucket: CloudFrontAccessLogsBucket.DomainName,
}

var CloudFrontDistroDistributionConfigDefaultCacheBehavior = cloudfront.Distribution_DefaultCacheBehavior{
	AllowedMethods: []any{"GET", "HEAD"},
	CachePolicyId: CloudFrontCachePolicyDefault,
	CachedMethods: []any{"GET", "HEAD"},
	Compress: false,
	RealtimeLogConfigArn: CloudFrontLogDistro.Arn,
	TargetOriginId: "URLShortenerAPIGW",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfigCustomErrorResponse3 = cloudfront.Distribution_CustomErrorResponse{
	ErrorCachingMinTTL: 5,
	ErrorCode: 500,
}

var CloudFrontDistroDistributionConfigCustomErrorResponse2 = cloudfront.Distribution_CustomErrorResponse{
	ErrorCachingMinTTL: 1,
	ErrorCode: 403,
}

var CloudFrontDistroDistributionConfigCustomErrorResponse1 = cloudfront.Distribution_CustomErrorResponse{
	ErrorCachingMinTTL: 0,
	ErrorCode: 400,
}

var CloudFrontDistroDistributionConfigCacheBehavior6 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"GET", "HEAD", "OPTIONS"},
	CachePolicyId: CloudFrontCachePolicyClient,
	CachedMethods: []any{"GET", "HEAD", "OPTIONS"},
	Compress: true,
	PathPattern: "/",
	TargetOriginId: "AmplifyClient",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfigCacheBehavior5 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"GET", "HEAD", "OPTIONS"},
	CachePolicyId: CloudFrontCachePolicyClient,
	CachedMethods: []any{"GET", "HEAD", "OPTIONS"},
	Compress: true,
	PathPattern: "/*.ico",
	TargetOriginId: "AmplifyClient",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfigCacheBehavior4 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"GET", "HEAD", "OPTIONS"},
	CachePolicyId: CloudFrontCachePolicyClient,
	CachedMethods: []any{"GET", "HEAD", "OPTIONS"},
	Compress: true,
	PathPattern: "/client/*",
	TargetOriginId: "AmplifyClient",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfigCacheBehavior3 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"GET", "HEAD", "OPTIONS"},
	CachePolicyId: CloudFrontCachePolicyClient,
	CachedMethods: []any{"GET", "HEAD", "OPTIONS"},
	Compress: true,
	PathPattern: "/s12dAssetsDirectory/*",
	TargetOriginId: "AmplifyClient",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfigCacheBehavior2 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT"},
	CachePolicyId: CloudFrontCachePolicyAPI,
	CachedMethods: []any{"GET", "HEAD", "OPTIONS"},
	Compress: true,
	PathPattern: "/app/",
	TargetOriginId: "URLShortenerAPIGW",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfigCacheBehavior1 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"DELETE", "GET", "HEAD", "OPTIONS", "PATCH", "POST", "PUT"},
	CachePolicyId: CloudFrontCachePolicyAPI,
	CachedMethods: []any{"GET", "HEAD", "OPTIONS"},
	Compress: true,
	PathPattern: "/app/*",
	TargetOriginId: "URLShortenerAPIGW",
	ViewerProtocolPolicy: "redirect-to-https",
}

var CloudFrontDistroDistributionConfig = cloudfront.Distribution_DistributionConfig{
	Aliases: []any{CustomDomain},
	CacheBehaviors: []any{CloudFrontDistroDistributionConfigCacheBehavior1, CloudFrontDistroDistributionConfigCacheBehavior2, CloudFrontDistroDistributionConfigCacheBehavior3, CloudFrontDistroDistributionConfigCacheBehavior4, CloudFrontDistroDistributionConfigCacheBehavior5, CloudFrontDistroDistributionConfigCacheBehavior6},
	Comment: Sub{String: "URL Shortener CDN - ${CustomDomain}"},
	CustomErrorResponses: []any{CloudFrontDistroDistributionConfigCustomErrorResponse1, CloudFrontDistroDistributionConfigCustomErrorResponse2, CloudFrontDistroDistributionConfigCustomErrorResponse3},
	DefaultCacheBehavior: CloudFrontDistroDistributionConfigDefaultCacheBehavior,
	Enabled: true,
	Logging: CloudFrontDistroDistributionConfigLogging,
	Origins: []any{CloudFrontDistroDistributionConfigOriginURLShortenerAPIGW, CloudFrontDistroDistributionConfigOriginAmplifyClient},
	ViewerCertificate: CloudFrontDistroDistributionConfigViewerCertificate,
}

var CloudFrontDistro = cloudfront.Distribution{
	DistributionConfig: CloudFrontDistroDistributionConfig,
}
