// Package template contains CloudFormation resources.
// Security resources: IAM, Cognito, KMS, etc.
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/cognito"
	"github.com/lex00/wetwire-aws-go/resources/iam"
)

var DDBCrudRolePolicyDDBCrudPolicyPolicyDocument = PolicyDocument{
	Statement: []any{},
	Version: "2012-10-17",
}

var DDBCrudRolePolicyDDBCrudPolicy = iam.Role_Policy{
	PolicyDocument: DDBCrudRolePolicyDDBCrudPolicyPolicyDocument,
	PolicyName: "DDBCrudPolicy",
}

var DDBCrudRoleAssumeRolePolicyDocument = PolicyDocument{
	Statement: []any{DDBCrudRoleAssumeRolePolicyDocumentStatement0},
	Version: "2012-10-17",
}

var DDBCrudRoleAssumeRolePolicyDocumentStatement0 = PolicyStatement{
	Action: []any{"sts:AssumeRole"},
	Effect: "Allow",
	Principal: ServicePrincipal{"apigateway.amazonaws.com"},
}

var DDBCrudRole = iam.Role{
	AssumeRolePolicyDocument: DDBCrudRoleAssumeRolePolicyDocument,
	Policies: []any{DDBCrudRolePolicyDDBCrudPolicy},
}

var LoggingRolePolicyCloudFrontLogToKinesPolicyDocument = PolicyDocument{
	Statement: []any{},
	Version: "2012-10-17",
}

var LoggingRolePolicyCloudFrontLogToKines = iam.Role_Policy{
	PolicyDocument: LoggingRolePolicyCloudFrontLogToKinesPolicyDocument,
	PolicyName: "CloudFrontLogToKinesis",
}

var LoggingRoleAssumeRolePolicyDocument = PolicyDocument{
	Statement: []any{LoggingRoleAssumeRolePolicyDocumentStatement0},
	Version: "2012-10-17",
}

var LoggingRoleAssumeRolePolicyDocumentStatement0 = PolicyStatement{
	Action: []any{"sts:AssumeRole"},
	Effect: "Allow",
	Principal: ServicePrincipal{"cloudfront.amazonaws.com"},
}

var LoggingRole = iam.Role{
	AssumeRolePolicyDocument: LoggingRoleAssumeRolePolicyDocument,
	Policies: []any{LoggingRolePolicyCloudFrontLogToKines},
}

var UserPoolPoliciesPasswordPolicy = cognito.UserPool_PasswordPolicy{
	MinimumLength: 8,
}

var UserPoolSchemaEmail = cognito.UserPool_SchemaAttribute{
	AttributeDataType: "String",
	Name: "email",
	Required: false,
}

var UserPoolPolicies = cognito.UserPool_Policies{
	PasswordPolicy: UserPoolPoliciesPasswordPolicy,
}

var UserPool = cognito.UserPool{
	AutoVerifiedAttributes: []any{"email"},
	Policies: UserPoolPolicies,
	Schema: []any{UserPoolSchemaEmail},
	UserPoolName: Sub{String: "${AppName}-UserPool"},
	UsernameAttributes: []any{"email"},
}

var UserPoolClient = cognito.UserPoolClient{
	AllowedOAuthFlows: []any{"code"},
	AllowedOAuthFlowsUserPoolClient: true,
	AllowedOAuthScopes: []any{"email", "openid"},
	CallbackURLs: []any{Sub{String: "https://${CustomDomain}"}, If{"IsLocal", "http://localhost:8080", AWS_NO_VALUE}},
	ClientName: Sub{String: "${AppName}-UserPoolClient"},
	GenerateSecret: false,
	LogoutURLs: []any{Sub{String: "https://${CustomDomain}"}, If{"IsLocal", "http://localhost:8080", AWS_NO_VALUE}},
	SupportedIdentityProviders: []any{"COGNITO"},
	UserPoolId: UserPool,
}

var UserPoolDomain = cognito.UserPoolDomain{
	Domain: Sub{String: "${AppName}-${AWS::AccountId}"},
	UserPoolId: UserPool,
}

var DDBReadRolePolicyDDBReadPolicyPolicyDocument = PolicyDocument{
	Statement: []any{},
	Version: "2012-10-17",
}

var DDBReadRolePolicyDDBReadPolicy = iam.Role_Policy{
	PolicyDocument: DDBReadRolePolicyDDBReadPolicyPolicyDocument,
	PolicyName: "DDBReadPolicy",
}

var DDBReadRoleAssumeRolePolicyDocument = PolicyDocument{
	Statement: []any{DDBReadRoleAssumeRolePolicyDocumentStatement0},
	Version: "2012-10-17",
}

var DDBReadRoleAssumeRolePolicyDocumentStatement0 = PolicyStatement{
	Action: []any{"sts:AssumeRole"},
	Effect: "Allow",
	Principal: ServicePrincipal{"apigateway.amazonaws.com"},
}

var DDBReadRole = iam.Role{
	AssumeRolePolicyDocument: DDBReadRoleAssumeRolePolicyDocument,
	Policies: []any{DDBReadRolePolicyDDBReadPolicy},
}
