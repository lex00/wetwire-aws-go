// Package template contains CloudFormation resources.
// Main resources
//
// Generated by wetwire-aws import.
package template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/serverless"
)

var SentimentFunction = serverless.Function{
	Events: Json{
	"SentimentFilter": Json{
	"Properties": Json{
	"EventBusName": CustomBus,
	"Pattern": Json{
	"detail-type": []any{"sentiment"},
	"source": []any{"TextEndpoint"},
},
},
	"Type": "EventBridgeRule",
},
},
	Handler: "sentiment.lambdaHandler",
	Policies: []any{Json{
	"ComprehendBasicAccessPolicy": Json{},
}},
}

var TranslateFunction = serverless.Function{
	Events: Json{
	"TranslateFilter": Json{
	"Properties": Json{
	"EventBusName": CustomBus,
	"Pattern": Json{
	"detail-type": []any{"translate"},
	"source": []any{"TextEndpoint"},
},
},
	"Type": "EventBridgeRule",
},
},
	Handler: "translate.lambdaHandler",
	Policies: []any{Json{
	"ComprehendBasicAccessPolicy": Json{},
}, Json{
	"Statement": []any{Json{
	"Action": []any{"translate:TranslateText"},
	"Effect": "Allow",
	"Resource": "*",
}},
	"Version": "2012-10-17",
}},
}

var EndpointFunctionEnvironment = serverless.Function_Environment{
	Variables: Json{"EVENT_BUS_NAME": CustomBus},
}

var EndpointFunction = serverless.Function{
	Environment: &EndpointFunctionEnvironment,
	Events: Json{
	"API": Json{
	"Properties": Json{
	"Method": "POST",
	"Path": "/",
},
	"Type": "HttpApi",
},
},
	Handler: "endpoint.lambdaHandler",
	Policies: []any{Json{
	"EventBridgePutEventsPolicy": Json{
	"EventBusName": CustomBus,
},
}},
}
