# redhat

CloudFormation infrastructure as Go code, generated by [wetwire-aws](https://github.com/lex00/wetwire-aws-go).

## Prerequisites

- Go 1.22+
- wetwire-aws CLI

## Quick Start

`bash
# Build the CloudFormation template
wetwire-aws build .

# Or run directly
cd cmd && go run main.go > template.json

# Deploy with AWS CLI
aws cloudformation deploy \
  --template-file template.json \
  --stack-name redhat \
  --capabilities CAPABILITY_IAM
`

## Project Structure

| File | Description |
|------|-------------|
| `params.go` | CloudFormation parameters and conditions |
| `outputs.go` | Stack outputs |
| `security.go` | IAM roles, policies, KMS keys |
| `network.go` | VPC, subnets, security groups, load balancers |
| `compute.go` | EC2 instances, Lambda functions |
| `storage.go` | S3 buckets, EFS |
| `database.go` | RDS, DynamoDB |
| `main.go` | Other resources |

## Modifying Resources

Resources are defined as Go struct literals:

`go
var MyBucket = s3.Bucket{
    BucketName: Sub{String: "${AppName}-bucket-${Environment}"},
    Tags: []any{MyBucketTagName, MyBucketTagEnv},
}
`

Cross-resource references use direct variable names:

`go
var MyPolicy = s3.BucketPolicy{
    Bucket: MyBucket,  // References the bucket above
}
`

## License

[Add your license here]
