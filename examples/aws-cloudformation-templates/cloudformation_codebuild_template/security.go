// Package cloudformation_codebuild_template contains CloudFormation resources.
// Security resources: IAM, Cognito, KMS, etc.
//
// Generated by wetwire-aws import.
package cloudformation_codebuild_template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/iam"
)

var CodeBuildRolePolicyCanCreateReportsPolicyDocument = PolicyDocument{
	Statement: Any(CodeBuildRolePolicyCanCreateReportsPolicyDocumentStatement0),
	Version: "2012-10-17",
}

var CodeBuildRolePolicyCanCreateReportsPolicyDocumentStatement0 = PolicyStatement{
	Action: Any("codebuild:*"),
	Effect: "Allow",
	Resource: Any(Sub{String: "arn:${AWS::Partition}:codebuild:${AWS::Region}:${AWS::AccountId}:report-group/${AWS::StackName}*"}),
}

var CodeBuildRolePolicyCanAccessS3PolicyDocument = PolicyDocument{
	Statement: Any(CodeBuildRolePolicyCanAccessS3PolicyDocumentStatement0),
	Version: "2012-10-17",
}

var CodeBuildRolePolicyCanAccessS3PolicyDocumentStatement0 = PolicyStatement{
	Action: Any("s3:GetObject"),
	Effect: "Allow",
	Resource: Any(PipelineS3Bucket.Arn),
}

var CodeBuildRolePolicyCanLogPolicyDocument = PolicyDocument{
	Statement: Any(CodeBuildRolePolicyCanLogPolicyDocumentStatement0, CodeBuildRolePolicyCanLogPolicyDocumentStatement1),
	Version: "2012-10-17",
}

var CodeBuildRolePolicyCanLogPolicyDocumentStatement1 = PolicyStatement{
	Action: Any("s3:GetObject", "s3:PutObject"),
	Effect: "Allow",
	Resource: Any(PipelineS3Bucket.Arn, Sub{String: "${PipelineS3Bucket.Arn}/*"}),
}

var CodeBuildRolePolicyCanLogPolicyDocumentStatement0 = PolicyStatement{
	Action: Any("logs:CreateLogStream", "logs:CreateLogGroup", "logs:PutLogEvents"),
	Effect: "Allow",
	Resource: Any(Sub{String: "arn:${AWS::Partition}:logs:${AWS::Region}:${AWS::AccountId}:log-group:/aws/codebuild/${AWS::StackName}*:log-stream:*"}),
}

var CodeBuildRolePolicyCanCreateReports = iam.Role_Policy{
	PolicyDocument: CodeBuildRolePolicyCanCreateReportsPolicyDocument,
	PolicyName: "CanCreateReports",
}

var CodeBuildRolePolicyCanAccessS3 = iam.Role_Policy{
	PolicyDocument: CodeBuildRolePolicyCanAccessS3PolicyDocument,
	PolicyName: "CanAccessS3",
}

var CodeBuildRolePolicyCanLog = iam.Role_Policy{
	PolicyDocument: CodeBuildRolePolicyCanLogPolicyDocument,
	PolicyName: "CanLog",
}

var CodeBuildRoleAssumeRolePolicyDocument = PolicyDocument{
	Statement: Any(CodeBuildRoleAssumeRolePolicyDocumentStatement0),
	Version: "2012-10-17",
}

var CodeBuildRoleAssumeRolePolicyDocumentStatement0 = PolicyStatement{
	Action: "sts:AssumeRole",
	Effect: "Allow",
	Principal: ServicePrincipal{"codebuild.amazonaws.com"},
}

var CodeBuildRole = iam.Role{
	AssumeRolePolicyDocument: CodeBuildRoleAssumeRolePolicyDocument,
	Policies: List(CodeBuildRolePolicyCanLog, CodeBuildRolePolicyCanAccessS3, CodeBuildRolePolicyCanCreateReports),
}
