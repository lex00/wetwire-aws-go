// Package cfn_endpoint_creationpolicy contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package cfn_endpoint_creationpolicy

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
)

var InternetGatewayTagName = Tag{
	Key: "Name",
	Value: EnvironmentName,
}

var InternetGateway = ec2.InternetGateway{
	Tags: []any{InternetGatewayTagName},
}

var PublicSubnet2RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: PublicRouteTable,
	SubnetId: PublicSubnet2,
}

var PrivateSGTagName = Tag{
	Key: "Name",
	Value: "PrivateSG",
}

var PrivateSGSecurityGroupIngressPortN22 = ec2.SecurityGroup_Ingress{
	FromPort: 22,
	IpProtocol: "tcp",
	SourceSecurityGroupId: BastionSG,
	ToPort: 22,
}

var PrivateSG = ec2.SecurityGroup{
	GroupDescription: "Traffic from Bastion",
	SecurityGroupIngress: []any{PrivateSGSecurityGroupIngressPortN22},
	Tags: []any{PrivateSGTagName},
	VpcId: VPC,
}

var VPCTagName = Tag{
	Key: "Name",
	Value: EnvironmentName,
}

var VPC = ec2.VPC{
	CidrBlock: VpcCIDR,
	EnableDnsHostnames: true,
	EnableDnsSupport: true,
	Tags: []any{VPCTagName},
}

var PrivateRouteTable1TagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Private Routes (AZ1)"},
}

var PrivateRouteTable1 = ec2.RouteTable{
	Tags: []any{PrivateRouteTable1TagName},
	VpcId: VPC,
}

var PrivateSubnet1RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: PrivateRouteTable1,
	SubnetId: PrivateSubnet1,
}

var DefaultPublicRoute = ec2.Route{
	DestinationCidrBlock: "0.0.0.0/0",
	GatewayId: InternetGateway,
	RouteTableId: PublicRouteTable,
}

var PublicSubnet1RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: PublicRouteTable,
	SubnetId: PublicSubnet1,
}

var EndpointSGTagName = Tag{
	Key: "Name",
	Value: "EndpointSG",
}

var EndpointSGSecurityGroupIngressPortN443 = ec2.SecurityGroup_Ingress{
	CidrIp: "0.0.0.0/0",
	FromPort: 443,
	IpProtocol: "tcp",
	ToPort: 443,
}

var EndpointSG = ec2.SecurityGroup{
	GroupDescription: "Traffic into CloudFormation Endpoint",
	SecurityGroupIngress: []any{EndpointSGSecurityGroupIngressPortN443},
	Tags: []any{EndpointSGTagName},
	VpcId: VPC,
}

var PrivateSubnet1TagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Private Subnet (AZ1)"},
}

var PrivateSubnet1 = ec2.Subnet{
	AvailabilityZone: Select{Index: 0, List: GetAZs{}},
	CidrBlock: PrivateSubnet1CIDR,
	MapPublicIpOnLaunch: false,
	Tags: []any{PrivateSubnet1TagName},
	VpcId: VPC,
}

var CfnEndpoint = ec2.VPCEndpoint{
	PrivateDnsEnabled: true,
	SecurityGroupIds: []any{EndpointSG},
	ServiceName: Sub{String: "com.amazonaws.${AWS::Region}.cloudformation"},
	SubnetIds: []any{PrivateSubnet1, PrivateSubnet2},
	VpcEndpointType: "Interface",
	VpcId: VPC,
}

var BastionSGTagName = Tag{
	Key: "Name",
	Value: "BastionSG",
}

var BastionSGSecurityGroupIngressPortN22 = ec2.SecurityGroup_Ingress{
	CidrIp: "0.0.0.0/0",
	FromPort: 22,
	IpProtocol: "tcp",
	ToPort: 22,
}

var BastionSG = ec2.SecurityGroup{
	GroupDescription: "Inbound Bastion Traffic",
	SecurityGroupIngress: []any{BastionSGSecurityGroupIngressPortN22},
	Tags: []any{BastionSGTagName},
	VpcId: VPC,
}

var PublicRouteTableTagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Public Routes"},
}

var PublicRouteTable = ec2.RouteTable{
	Tags: []any{PublicRouteTableTagName},
	VpcId: VPC,
}

var PrivateRouteTable2TagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Private Routes (AZ2)"},
}

var PrivateRouteTable2 = ec2.RouteTable{
	Tags: []any{PrivateRouteTable2TagName},
	VpcId: VPC,
}

var PublicSubnet1TagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Public Subnet (AZ1)"},
}

var PublicSubnet1 = ec2.Subnet{
	AvailabilityZone: Select{Index: 0, List: GetAZs{}},
	CidrBlock: PublicSubnet1CIDR,
	MapPublicIpOnLaunch: true,
	Tags: []any{PublicSubnet1TagName},
	VpcId: VPC,
}

var PublicSubnet2TagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Public Subnet (AZ2)"},
}

var PublicSubnet2 = ec2.Subnet{
	AvailabilityZone: Select{Index: 1, List: GetAZs{}},
	CidrBlock: PublicSubnet2CIDR,
	MapPublicIpOnLaunch: true,
	Tags: []any{PublicSubnet2TagName},
	VpcId: VPC,
}

var PrivateSubnet2TagName = Tag{
	Key: "Name",
	Value: Sub{String: "${EnvironmentName} Private Subnet (AZ2)"},
}

var PrivateSubnet2 = ec2.Subnet{
	AvailabilityZone: Select{Index: 1, List: GetAZs{}},
	CidrBlock: PrivateSubnet2CIDR,
	MapPublicIpOnLaunch: false,
	Tags: []any{PrivateSubnet2TagName},
	VpcId: VPC,
}

var InternetGatewayAttachment = ec2.VPCGatewayAttachment{
	InternetGatewayId: InternetGateway,
	VpcId: VPC,
}

var PrivateSubnet2RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: PrivateRouteTable2,
	SubnetId: PrivateSubnet2,
}
