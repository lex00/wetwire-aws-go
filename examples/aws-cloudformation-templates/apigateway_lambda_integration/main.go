// Package apigateway_lambda_integration contains CloudFormation resources.
// Main resources
//
// Generated by wetwire-aws import.
package apigateway_lambda_integration

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/apigateway"
)

var RestApiEndpointConfiguration = &apigateway.RestApi_EndpointConfiguration{
	Types: []any{ApiType},
}

var RestApi = apigateway.RestApi{
	Description: "My Rest API",
	EndpointConfiguration: RestApiEndpointConfiguration,
	Name: "MyApi",
}

var RequestModel = apigateway.Model{
	ContentType: "application/json",
	Name: "MyModel",
	RestApiId: RestApi,
	Schema: map[string]any{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"properties": map[string]any{
	"callerName": map[string]any{
	"type": "string",
},
},
	"title": "MyModel",
	"type": "object",
},
}

var ApiResource = apigateway.Resource{
	ParentId: RestApi.RootResourceId,
	PathPart: "{city}",
	RestApiId: RestApi,
}

var ApiMethodIntegrationIntegrationResponse1 = apigateway.Method_IntegrationResponse{
	StatusCode: "200",
}

var ApiMethodMethodResponse1 = apigateway.Method_MethodResponse{
	StatusCode: "200",
}

var ApiMethodIntegration = &apigateway.Method_Integration{
	IntegrationHttpMethod: "POST",
	IntegrationResponses: List(ApiMethodIntegrationIntegrationResponse1),
	RequestTemplates: map[string]any{"application/json": "#set($inputRoot = $input.path('$'))\n    {\n      \"city\": \"$input.params('city')\",\n      \"time\": \"$input.params('time')\",\n      \"day\":  \"$input.params('day')\",\n      \"name\": \"$inputRoot.callerName\"\n    }\n"},
	TimeoutInMillis: ApigatewayTimeout,
	Type_: "AWS",
	Uri: Join{"", []any{
	"arn:",
	AWS_PARTITION,
	":apigateway:",
	AWS_REGION,
	":lambda:path/2015-03-31/functions/",
	LambdaFunction.Arn,
	"/invocations",
}},
}

var ApiMethod = apigateway.Method{
	AuthorizationType: "NONE",
	HttpMethod: "ANY",
	Integration: ApiMethodIntegration,
	MethodResponses: List(ApiMethodMethodResponse1),
	RequestModels: map[string]any{
	"application/json": RequestModel,
},
	RequestParameters: map[string]any{
	"method.request.header.day": "true",
	"method.request.path.city": "true",
	"method.request.querystring.time": "true",
},
	ResourceId: ApiResource,
	RestApiId: RestApi,
}
