// Package s3_bucket_and_policy_for_caa_v1 contains CloudFormation resources.
// Storage resources: S3, EFS, etc.
//
// Generated by wetwire-aws import.
package s3_bucket_and_policy_for_caa_v1

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/s3"
)

var BucketPolicyPolicyDocument = PolicyDocument{
	Statement: []any{BucketPolicyPolicyDocumentStatement0, BucketPolicyPolicyDocumentStatement1, BucketPolicyPolicyDocumentStatement2},
	Version: "2012-10-17",
}

var BucketPolicyPolicyDocumentStatement2 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${BucketName}"}, Sub{String: "arn:${AWS::Partition}:s3:::${BucketName}/*"}},
}

var BucketPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:GetObject",
	Effect: "Allow",
	Principal: AWSPrincipal{Sub{String: "arn:${AWS::Partition}:iam::${PublisherAccountID}:root"}},
	Resource: Sub{String: "arn:${AWS::Partition}:s3:::${Bucket}/*"},
	Sid: "CrossAccPolicyDoc",
}

var BucketPolicyPolicyDocumentStatement0 = PolicyStatement{
	Action: "s3:ListBucket",
	Effect: "Allow",
	Principal: AWSPrincipal{Sub{String: "arn:${AWS::Partition}:iam::${PublisherAccountID}:root"}},
	Resource: Sub{String: "arn:${AWS::Partition}:s3:::${Bucket}"},
	Sid: "CrossAccPolicyDoc",
}

var BucketPolicy = s3.BucketPolicy{
	Bucket: Bucket,
	PolicyDocument: BucketPolicyPolicyDocument,
}

var BucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var BucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: BucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var BucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var BucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var BucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: []any{BucketBucketEncryptionServerSideEncryptionConfiguration1},
}

var Bucket = s3.Bucket{
	BucketEncryption: BucketBucketEncryption,
	BucketName: BucketName,
	PublicAccessBlockConfiguration: BucketPublicAccessBlockConfiguration,
	VersioningConfiguration: BucketVersioningConfiguration,
}
