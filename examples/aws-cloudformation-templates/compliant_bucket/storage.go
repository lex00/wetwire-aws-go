// Package compliant_bucket contains CloudFormation resources.
// Storage resources: S3, EFS, etc.
//
// Generated by wetwire-aws import.
package compliant_bucket

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/s3"
)

var ObjectStorageBucketPolicyPolicyPolicyDocument = PolicyDocument{
	Statement: []any{ObjectStorageBucketPolicyPolicyPolicyDocumentStatement0, ObjectStorageBucketPolicyPolicyPolicyDocumentStatement1},
	Version: "2012-10-17",
}

var ObjectStorageBucketPolicyPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:PutObject",
	Condition: Json{ArnLike: Json{"aws:SourceArn": Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}"}}, StringEquals: Json{"aws:SourceAccount": AWS_ACCOUNT_ID}},
	Effect: "Allow",
	Principal: ServicePrincipal{"logging.s3.amazonaws.com"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}/*"}},
}

var ObjectStorageBucketPolicyPolicyPolicyDocumentStatement0 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}/*"}},
}

var ObjectStorageBucketPolicyPolicy = s3.BucketPolicy{
	Bucket: Sub{String: "${AppName}-${AWS::Region}-${AWS::AccountId}"},
	PolicyDocument: ObjectStorageBucketPolicyPolicyPolicyDocument,
}

var ObjectStorageLogBucketObjectLockConfigurationRuleDefaultRetention = s3.Bucket_DefaultRetention{
	Mode: "COMPLIANCE",
	Years: 1,
}

var ObjectStorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var ObjectStorageLogBucketObjectLockConfigurationRule = s3.Bucket_ObjectLockRule{
	DefaultRetention: ObjectStorageLogBucketObjectLockConfigurationRuleDefaultRetention,
}

var ObjectStorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: ObjectStorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var ObjectStorageLogBucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var ObjectStorageLogBucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var ObjectStorageLogBucketObjectLockConfiguration = s3.Bucket_ObjectLockConfiguration{
	ObjectLockEnabled: "Enabled",
	Rule: ObjectStorageLogBucketObjectLockConfigurationRule,
}

var ObjectStorageLogBucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: []any{ObjectStorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1},
}

var ObjectStorageLogBucket = s3.Bucket{
	BucketEncryption: ObjectStorageLogBucketBucketEncryption,
	BucketName: Sub{String: "${AppName}-logs-${AWS::Region}-${AWS::AccountId}"},
	ObjectLockConfiguration: ObjectStorageLogBucketObjectLockConfiguration,
	ObjectLockEnabled: true,
	PublicAccessBlockConfiguration: ObjectStorageLogBucketPublicAccessBlockConfiguration,
	VersioningConfiguration: ObjectStorageLogBucketVersioningConfiguration,
}

var ObjectStorageLogBucketPolicyPolicyPolicyDocument = PolicyDocument{
	Statement: []any{ObjectStorageLogBucketPolicyPolicyPolicyDocumentStatement0, ObjectStorageLogBucketPolicyPolicyPolicyDocumentStatement1},
	Version: "2012-10-17",
}

var ObjectStorageLogBucketPolicyPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:PutObject",
	Condition: Json{ArnLike: Json{"aws:SourceArn": Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}"}}, StringEquals: Json{"aws:SourceAccount": AWS_ACCOUNT_ID}},
	Effect: "Allow",
	Principal: ServicePrincipal{"logging.s3.amazonaws.com"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}/*"}},
}

var ObjectStorageLogBucketPolicyPolicyPolicyDocumentStatement0 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}/*"}},
}

var ObjectStorageLogBucketPolicyPolicy = s3.BucketPolicy{
	Bucket: Sub{String: "${AppName}-logs-${AWS::Region}-${AWS::AccountId}"},
	PolicyDocument: ObjectStorageLogBucketPolicyPolicyPolicyDocument,
}

var ObjectStorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var ObjectStorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: ObjectStorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var ObjectStorageReplicaBucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var ObjectStorageReplicaBucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var ObjectStorageReplicaBucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: []any{ObjectStorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1},
}

var ObjectStorageReplicaBucket = s3.Bucket{
	BucketEncryption: ObjectStorageReplicaBucketBucketEncryption,
	BucketName: Sub{String: "${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"},
	ObjectLockEnabled: false,
	PublicAccessBlockConfiguration: ObjectStorageReplicaBucketPublicAccessBlockConfiguration,
	VersioningConfiguration: ObjectStorageReplicaBucketVersioningConfiguration,
}

var ObjectStorageReplicaBucketPolicyPolicyPolicyDocument = PolicyDocument{
	Statement: []any{ObjectStorageReplicaBucketPolicyPolicyPolicyDocumentStatement0, ObjectStorageReplicaBucketPolicyPolicyPolicyDocumentStatement1},
	Version: "2012-10-17",
}

var ObjectStorageReplicaBucketPolicyPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:PutObject",
	Condition: Json{ArnLike: Json{"aws:SourceArn": Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"}}, StringEquals: Json{"aws:SourceAccount": AWS_ACCOUNT_ID}},
	Effect: "Allow",
	Principal: ServicePrincipal{"logging.s3.amazonaws.com"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}/*"}},
}

var ObjectStorageReplicaBucketPolicyPolicyPolicyDocumentStatement0 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}/*"}},
}

var ObjectStorageReplicaBucketPolicyPolicy = s3.BucketPolicy{
	Bucket: Sub{String: "${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"},
	PolicyDocument: ObjectStorageReplicaBucketPolicyPolicyPolicyDocument,
}

var ObjectStorageBucketReplicationConfigurationRuleEnabledDestination = s3.Bucket_ReplicationDestination{
	Bucket: ObjectStorageReplicaBucket.Arn,
}

var ObjectStorageBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var ObjectStorageBucketReplicationConfigurationRuleEnabled = s3.Bucket_ReplicationRule{
	Destination: ObjectStorageBucketReplicationConfigurationRuleEnabledDestination,
	Status: "Enabled",
}

var ObjectStorageBucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: ObjectStorageBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var ObjectStorageBucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var ObjectStorageBucketReplicationConfiguration = s3.Bucket_ReplicationConfiguration{
	Role: ObjectStorageReplicationRole.Arn,
	Rules: []any{ObjectStorageBucketReplicationConfigurationRuleEnabled},
}

var ObjectStorageBucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var ObjectStorageBucketLoggingConfiguration = s3.Bucket_LoggingConfiguration{
	DestinationBucketName: ObjectStorageLogBucket,
}

var ObjectStorageBucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: []any{ObjectStorageBucketBucketEncryptionServerSideEncryptionConfiguration1},
}

var ObjectStorageBucket = s3.Bucket{
	BucketEncryption: ObjectStorageBucketBucketEncryption,
	BucketName: Sub{String: "${AppName}-${AWS::Region}-${AWS::AccountId}"},
	LoggingConfiguration: ObjectStorageBucketLoggingConfiguration,
	ObjectLockEnabled: false,
	PublicAccessBlockConfiguration: ObjectStorageBucketPublicAccessBlockConfiguration,
	ReplicationConfiguration: ObjectStorageBucketReplicationConfiguration,
	VersioningConfiguration: ObjectStorageBucketVersioningConfiguration,
}
