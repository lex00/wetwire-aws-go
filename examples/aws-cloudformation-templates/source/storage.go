// Package source contains CloudFormation resources.
// Storage resources: S3, EFS, etc.
//
// Generated by wetwire-aws import.
package source

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/s3"
)

var S3BucketSourceReplicationConfigurationRuleRule1SourceSelectionCriteriaSseKmsEncryptedObjects = s3.Bucket_SseKmsEncryptedObjects{
	Status: "Enabled",
}

var S3BucketSourceReplicationConfigurationRuleRule1DestinationEncryptionConfiguration = s3.Bucket_EncryptionConfiguration{
	ReplicaKmsKeyID: Sub{String: "arn:${AWS::Partition}:kms:${AWS::Region}:${AccountIdDestination}:alias/${AWS::StackName}-${AccountIdDestination}-kms-key"},
}

var S3BucketSourceReplicationConfigurationRuleRule1DestinationAccessControlTranslation = s3.Bucket_AccessControlTranslation{
	Owner: "Destination",
}

var S3BucketSourceReplicationConfigurationRuleRule1SourceSelectionCriteria = s3.Bucket_SourceSelectionCriteria{
	SseKmsEncryptedObjects: &S3BucketSourceReplicationConfigurationRuleRule1SourceSelectionCriteriaSseKmsEncryptedObjects,
}

var S3BucketSourceReplicationConfigurationRuleRule1Filter = s3.Bucket_ReplicationRuleFilter{
	Prefix: "",
}

var S3BucketSourceReplicationConfigurationRuleRule1Destination = s3.Bucket_ReplicationDestination{
	AccessControlTranslation: &S3BucketSourceReplicationConfigurationRuleRule1DestinationAccessControlTranslation,
	Account: AccountIdDestination,
	Bucket: Sub{String: "arn:${AWS::Partition}:s3:::${AWS::StackName}-${AccountIdDestination}-bucket"},
	EncryptionConfiguration: &S3BucketSourceReplicationConfigurationRuleRule1DestinationEncryptionConfiguration,
}

var S3BucketSourceReplicationConfigurationRuleRule1DeleteMarkerReplication = s3.Bucket_DeleteMarkerReplication{
	Status: "Disabled",
}

var S3BucketSourceBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	KMSMasterKeyID: KmsKey,
	SSEAlgorithm: "aws:kms",
}

var S3BucketSourceReplicationConfigurationRuleRule1 = s3.Bucket_ReplicationRule{
	DeleteMarkerReplication: &S3BucketSourceReplicationConfigurationRuleRule1DeleteMarkerReplication,
	Destination: S3BucketSourceReplicationConfigurationRuleRule1Destination,
	Filter: &S3BucketSourceReplicationConfigurationRuleRule1Filter,
	Id: "Rule1",
	Priority: 0,
	SourceSelectionCriteria: &S3BucketSourceReplicationConfigurationRuleRule1SourceSelectionCriteria,
	Status: "Enabled",
}

var S3BucketSourceBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	BucketKeyEnabled: true,
	ServerSideEncryptionByDefault: &S3BucketSourceBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var S3BucketSourceVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var S3BucketSourceReplicationConfiguration = s3.Bucket_ReplicationConfiguration{
	Role: ReplicationRole.Arn,
	Rules: List(S3BucketSourceReplicationConfigurationRuleRule1),
}

var S3BucketSourcePublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var S3BucketSourceBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: List(S3BucketSourceBucketEncryptionServerSideEncryptionConfiguration1),
}

var S3BucketSource = s3.Bucket{
	BucketEncryption: &S3BucketSourceBucketEncryption,
	BucketName: Sub{String: "${AWS::StackName}-${AWS::AccountId}-bucket"},
	PublicAccessBlockConfiguration: &S3BucketSourcePublicAccessBlockConfiguration,
	ReplicationConfiguration: &S3BucketSourceReplicationConfiguration,
	VersioningConfiguration: &S3BucketSourceVersioningConfiguration,
}
