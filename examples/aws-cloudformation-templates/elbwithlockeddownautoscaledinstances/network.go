// Package elbwithlockeddownautoscaledinstances contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package elbwithlockeddownautoscaledinstances

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
	"github.com/lex00/wetwire-aws-go/resources/elasticloadbalancing"
)

var ElasticLoadBalancerListener1 = elasticloadbalancing.LoadBalancer_Listeners{
	InstancePort: "80",
	LoadBalancerPort: "80",
	Protocol: "HTTP",
}

var ElasticLoadBalancerHealthCheck = &elasticloadbalancing.LoadBalancer_HealthCheck{
	HealthyThreshold: "3",
	Interval: "30",
	Target: "HTTP:80/",
	Timeout: "5",
	UnhealthyThreshold: "5",
}

var ElasticLoadBalancer = elasticloadbalancing.LoadBalancer{
	AvailabilityZones: GetAZs{},
	CrossZone: "true",
	HealthCheck: ElasticLoadBalancerHealthCheck,
	Listeners: List(ElasticLoadBalancerListener1),
}

var InstanceSecurityGroupSecurityGroupIngressPortN22 = ec2.SecurityGroup_Ingress{
	CidrIp: SSHLocation,
	FromPort: "22",
	IpProtocol: "tcp",
	ToPort: "22",
}

var InstanceSecurityGroupSecurityGroupIngressPortN80 = ec2.SecurityGroup_Ingress{
	FromPort: "80",
	IpProtocol: "tcp",
	SourceSecurityGroupName: ElasticLoadBalancer.SourceSecurityGroup.GroupName,
	SourceSecurityGroupOwnerId: ElasticLoadBalancer.SourceSecurityGroup.OwnerAlias,
	ToPort: "80",
}

var InstanceSecurityGroup = ec2.SecurityGroup{
	GroupDescription: "Enable SSH access and HTTP access on the inbound port",
	SecurityGroupIngress: List(InstanceSecurityGroupSecurityGroupIngressPortN80, InstanceSecurityGroupSecurityGroupIngressPortN22),
}
