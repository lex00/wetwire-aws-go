// Package elbwithlockeddownautoscaledinstances contains CloudFormation resources.
// Compute resources: EC2, Lambda, ECS, etc.
//
// Generated by wetwire-aws import.
package elbwithlockeddownautoscaledinstances

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/autoscaling"
)

var WebServerGroup = autoscaling.AutoScalingGroup{
	AvailabilityZones: []any{GetAZs{}},
	LaunchConfigurationName: LaunchConfig,
	LoadBalancerNames: []any{ElasticLoadBalancer},
	MaxSize: "2",
	MinSize: "2",
}

var LaunchConfig = autoscaling.LaunchConfiguration{
	ImageId: LatestAmiId,
	InstanceType: InstanceType,
	KeyName: KeyName,
	SecurityGroups: []any{InstanceSecurityGroup},
	UserData: Base64{Sub{String: "#!/bin/bash -xe          \nyum update -y aws-cfn-bootstrap \n/opt/aws/bin/cfn-init -v --stack ${AWS::StackName} \\\n         --resource LaunchConfig \\\n         --region ${AWS::Region}\n\n/opt/aws/bin/cfn-signal -e $? --stack ${AWS::StackName} \\\n         --resource WebServerGroup \\\n         --region ${AWS::Region} \n"}},
}
