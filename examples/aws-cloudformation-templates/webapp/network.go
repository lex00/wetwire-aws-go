// Package webapp contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package webapp

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/cloudfront"
)

var SiteOriginAccessControlOriginAccessControlConfig = cloudfront.OriginAccessControl_OriginAccessControlConfig{
	Name: Join{Delimiter: "", Values: []any{
	AppName,
	Select{Index: 2, List: Split{"/", AWS_STACK_ID}},
}},
	OriginAccessControlOriginType: "s3",
	SigningBehavior: "always",
	SigningProtocol: "sigv4",
}

var SiteOriginAccessControl = cloudfront.OriginAccessControl{
	OriginAccessControlConfig: SiteOriginAccessControlOriginAccessControlConfig,
}

var SiteDistributionDistributionConfigOrigin1S3OriginConfig = cloudfront.Distribution_S3OriginConfig{
	OriginAccessIdentity: "",
}

var SiteDistributionDistributionConfigViewerCertificate = cloudfront.Distribution_ViewerCertificate{
	CloudFrontDefaultCertificate: true,
}

var SiteDistributionDistributionConfigOrigin1 = cloudfront.Distribution_Origin{
	DomainName: SiteContentBucket.RegionalDomainName,
	Id: Sub{String: "${AppName}-origin-1"},
	OriginAccessControlId: SiteOriginAccessControl.Id,
	S3OriginConfig: &SiteDistributionDistributionConfigOrigin1S3OriginConfig,
}

var SiteDistributionDistributionConfigLogging = cloudfront.Distribution_Logging{
	Bucket: SiteCloudFrontLogsBucket.RegionalDomainName,
}

var SiteDistributionDistributionConfigDefaultCacheBehavior = cloudfront.Distribution_DefaultCacheBehavior{
	CachePolicyId: "658327ea-f89d-4fab-a63d-7e88639e58f6",
	Compress: true,
	TargetOriginId: Sub{String: "${AppName}-origin-1"},
	ViewerProtocolPolicy: "redirect-to-https",
}

var SiteDistributionDistributionConfig = cloudfront.Distribution_DistributionConfig{
	DefaultCacheBehavior: SiteDistributionDistributionConfigDefaultCacheBehavior,
	DefaultRootObject: "index.html",
	Enabled: true,
	HttpVersion: "http2",
	IPV6Enabled: true,
	Logging: &SiteDistributionDistributionConfigLogging,
	Origins: []any{SiteDistributionDistributionConfigOrigin1},
	ViewerCertificate: &SiteDistributionDistributionConfigViewerCertificate,
	WebACLId: SiteWebACL.Arn,
}

var SiteDistribution = cloudfront.Distribution{
	DistributionConfig: SiteDistributionDistributionConfig,
}
