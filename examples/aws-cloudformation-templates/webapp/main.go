// Package webapp contains CloudFormation resources.
// Main resources
//
// Generated by wetwire-aws import.
package webapp

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/apigateway"
)

var RestApi = apigateway.RestApi{
	Name: AppName,
}

var RestApiAuthorizer = apigateway.Authorizer{
	IdentitySource: "method.request.header.authorization",
	Name: "CognitoApiAuthorizer",
	ProviderARNs: []any{CognitoUserPool.Arn},
	RestApiId: RestApi,
	Type_: "COGNITO_USER_POOLS",
}

var RestApiDeployment = apigateway.Deployment{
	RestApiId: RestApi,
}

var RestApiStage = apigateway.Stage{
	DeploymentId: RestApiDeployment,
	RestApiId: RestApi,
	StageName: "prod",
}

var JwtResourceResource = apigateway.Resource{
	ParentId: RestApi.RootResourceId,
	PathPart: "jwt",
	RestApiId: RestApi,
}

var JwtResourceOptionsIntegration = apigateway.Method_Integration{
	IntegrationHttpMethod: "POST",
	Type_: "AWS_PROXY",
	Uri: Sub{String: "arn:${AWS::Partition}:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${JwtResourceHandler.Arn}/invocations"},
}

var JwtResourceOptions = apigateway.Method{
	AuthorizationType: "NONE",
	HttpMethod: "OPTIONS",
	Integration: JwtResourceOptionsIntegration,
	ResourceId: JwtResourceResource,
	RestApiId: RestApi,
}

var JwtResourceGetIntegration = apigateway.Method_Integration{
	IntegrationHttpMethod: "POST",
	Type_: "AWS_PROXY",
	Uri: Sub{String: "arn:${AWS::Partition}:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${JwtResourceHandler.Arn}/invocations"},
}

var JwtResourceGet = apigateway.Method{
	AuthorizationType: "NONE",
	AuthorizerId: AWS_NO_VALUE,
	HttpMethod: "GET",
	Integration: JwtResourceGetIntegration,
	ResourceId: JwtResourceResource,
	RestApiId: RestApi,
}

var TestResourceOptionsIntegration = apigateway.Method_Integration{
	IntegrationHttpMethod: "POST",
	Type_: "AWS_PROXY",
	Uri: Sub{String: "arn:${AWS::Partition}:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${TestResourceHandler.Arn}/invocations"},
}

var TestResourceOptions = apigateway.Method{
	AuthorizationType: "NONE",
	HttpMethod: "OPTIONS",
	Integration: TestResourceOptionsIntegration,
	ResourceId: TestResourceResource,
	RestApiId: RestApi,
}

var TestResourceGetIntegration = apigateway.Method_Integration{
	IntegrationHttpMethod: "POST",
	Type_: "AWS_PROXY",
	Uri: Sub{String: "arn:${AWS::Partition}:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${TestResourceHandler.Arn}/invocations"},
}

var TestResourceGet = apigateway.Method{
	AuthorizationType: "COGNITO_USER_POOLS",
	AuthorizerId: RestApiAuthorizer,
	HttpMethod: "GET",
	Integration: TestResourceGetIntegration,
	ResourceId: TestResourceResource,
	RestApiId: RestApi,
}

var TestResourceResource = apigateway.Resource{
	ParentId: RestApi.RootResourceId,
	PathPart: "test",
	RestApiId: RestApi,
}
