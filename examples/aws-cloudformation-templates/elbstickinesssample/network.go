// Package elbstickinesssample contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package elbstickinesssample

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
	"github.com/lex00/wetwire-aws-go/resources/elasticloadbalancing"
)

var InstanceSecurityGroupSecurityGroupIngressPort80 = ec2.SecurityGroup_Ingress{
	CidrIp: "0.0.0.0/0",
	FromPort: "80",
	IpProtocol: "tcp",
	ToPort: "80",
}

var InstanceSecurityGroupSecurityGroupIngressPort22 = ec2.SecurityGroup_Ingress{
	CidrIp: SSHLocation,
	FromPort: "22",
	IpProtocol: "tcp",
	ToPort: "22",
}

var InstanceSecurityGroup = ec2.SecurityGroup{
	GroupDescription: "Enable SSH access and HTTP access on the inbound port",
	SecurityGroupIngress: List(InstanceSecurityGroupSecurityGroupIngressPort22, InstanceSecurityGroupSecurityGroupIngressPort80),
}

var ElasticLoadBalancerListener1 = elasticloadbalancing.LoadBalancer_Listeners{
	InstancePort: "80",
	LoadBalancerPort: "80",
	PolicyNames: []any{"myLBPolicy"},
	Protocol: "HTTP",
}

var ElasticLoadBalancerLBCookieStickinessPolicyMyLBPolicy = elasticloadbalancing.LoadBalancer_LBCookieStickinessPolicy{
	CookieExpirationPeriod: "180",
	PolicyName: "myLBPolicy",
}

var ElasticLoadBalancerHealthCheck = &elasticloadbalancing.LoadBalancer_HealthCheck{
	HealthyThreshold: "3",
	Interval: "30",
	Target: "HTTP:80/",
	Timeout: "5",
	UnhealthyThreshold: "5",
}

var ElasticLoadBalancer = elasticloadbalancing.LoadBalancer{
	AvailabilityZones: GetAZs{},
	CrossZone: "true",
	HealthCheck: ElasticLoadBalancerHealthCheck,
	Instances: []any{EC2Instance1, EC2Instance2},
	LBCookieStickinessPolicy: List(ElasticLoadBalancerLBCookieStickinessPolicyMyLBPolicy),
	Listeners: List(ElasticLoadBalancerListener1),
}
