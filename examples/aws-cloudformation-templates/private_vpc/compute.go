// Package private_vpc contains CloudFormation resources.
// Compute resources: EC2, Lambda, ECS, etc.
//
// Generated by wetwire-aws import.
package private_vpc

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/autoscaling"
	"github.com/lex00/wetwire-aws-go/resources/ecs"
)

var ECSCluster = ecs.Cluster{
}

var ContainerInstances = autoscaling.LaunchConfiguration{
	IamInstanceProfile: EC2InstanceProfile,
	ImageId: ECSAMI,
	InstanceType: InstanceType,
	SecurityGroups: []any{EcsHostSecurityGroup},
	UserData: Base64{Sub{String: "#!/bin/bash -xe\necho ECS_CLUSTER=${ECSCluster} >> /etc/ecs/ecs.config\nyum install -y aws-cfn-bootstrap\n/opt/aws/bin/cfn-signal -e $? --stack ${AWS::StackName} --resource ECSAutoScalingGroup --region ${AWS::Region}\n"}},
}

var ECSAutoScalingGroup = autoscaling.AutoScalingGroup{
	DesiredCapacity: DesiredCapacity,
	LaunchConfigurationName: ContainerInstances,
	MaxSize: MaxSize,
	MinSize: 1,
	VPCZoneIdentifier: []any{PrivateSubnetOne, PrivateSubnetTwo},
}
