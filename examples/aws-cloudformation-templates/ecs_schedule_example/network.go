// Package ecs_schedule_example contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package ecs_schedule_example

import (
	"github.com/lex00/cloudformation-schema-go/enums"
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
	"github.com/lex00/wetwire-aws-go/resources/elasticloadbalancingv2"
)

var ECSTG = elasticloadbalancingv2.TargetGroup{
	HealthCheckIntervalSeconds: 10,
	HealthCheckPath: "/",
	HealthCheckProtocol: "HTTP",
	HealthCheckTimeoutSeconds: 5,
	HealthyThresholdCount: 2,
	Name: "ECSTG",
	Port: 80,
	Protocol: enums.Elbv2ProtocolEnumHttp,
	UnhealthyThresholdCount: 2,
	VpcId: VpcId,
}

var EcsSecurityGroup = ec2.SecurityGroup{
	GroupDescription: "ECS Security Group",
	VpcId: VpcId,
}

var EcsSecurityGroupHTTPinbound = ec2.SecurityGroupIngress{
	CidrIp: "0.0.0.0/0",
	FromPort: "80",
	GroupId: EcsSecurityGroup,
	IpProtocol: "tcp",
	ToPort: "80",
}

var EcsSecurityGroupSSHinbound = ec2.SecurityGroupIngress{
	CidrIp: "192.168.1.0/0",
	FromPort: "22",
	GroupId: EcsSecurityGroup,
	IpProtocol: "tcp",
	ToPort: "22",
}

var EcsSecurityGroupALBports = ec2.SecurityGroupIngress{
	FromPort: "31000",
	GroupId: EcsSecurityGroup,
	IpProtocol: "tcp",
	SourceSecurityGroupId: EcsSecurityGroup,
	ToPort: "61000",
}

var ECSALBLoadBalancerAttributeIdletimeouttimeoutse = elasticloadbalancingv2.LoadBalancer_LoadBalancerAttribute{
	Key: "idle_timeout.timeout_seconds",
	Value: "30",
}

var ECSALB = elasticloadbalancingv2.LoadBalancer{
	LoadBalancerAttributes: List(ECSALBLoadBalancerAttributeIdletimeouttimeoutse),
	Name: "ECSALB",
	Scheme: "internet-facing",
	SecurityGroups: Any(EcsSecurityGroup),
	Subnets: SubnetId,
}

var ECSALBListenerRuleCondition1 = elasticloadbalancingv2.ListenerRule_RuleCondition{
	Field: "path-pattern",
	Values: Any("/"),
}

var ECSALBListenerRuleActionForward = elasticloadbalancingv2.ListenerRule_Action{
	TargetGroupArn: ECSTG,
	Type_: "forward",
}

var ECSALBListenerRule = elasticloadbalancingv2.ListenerRule{
	Actions: List(ECSALBListenerRuleActionForward),
	Conditions: List(ECSALBListenerRuleCondition1),
	ListenerArn: ALBListener,
	Priority: 1,
}

var ALBListenerDefaultActionForward = elasticloadbalancingv2.Listener_Action{
	TargetGroupArn: ECSTG,
	Type_: "forward",
}

var ALBListener = elasticloadbalancingv2.Listener{
	DefaultActions: List(ALBListenerDefaultActionForward),
	LoadBalancerArn: ECSALB,
	Port: "80",
	Protocol: enums.Elbv2ProtocolEnumHttp,
}
