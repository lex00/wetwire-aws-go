// Package cloudfront_stack contains CloudFormation resources.
// Security resources: IAM, Cognito, KMS, etc.
//
// Generated by wetwire-aws import.
package cloudfront_stack

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/iam"
	"github.com/lex00/wetwire-aws-go/resources/kms"
)

var LambdaEdgeIAMRolePolicyPublishNewLambdaEdgePolicyDocument = PolicyDocument{
	Statement: []any{LambdaEdgeIAMRolePolicyPublishNewLambdaEdgePolicyDocumentStatement0},
	Version: "2012-10-17",
}

var LambdaEdgeIAMRolePolicyPublishNewLambdaEdgePolicyDocumentStatement0 = PolicyStatement{
	Action: []any{"lambda:PublishVersion"},
	Effect: "Allow",
	Resource: "*",
}

var LambdaEdgeIAMRolePolicyPublishNewLambdaEdge = iam.Role_Policy{
	PolicyDocument: LambdaEdgeIAMRolePolicyPublishNewLambdaEdgePolicyDocument,
	PolicyName: "PublishNewLambdaEdgeVersion",
}

var LambdaEdgeIAMRoleAssumeRolePolicyDocument = PolicyDocument{
	Statement: []any{LambdaEdgeIAMRoleAssumeRolePolicyDocumentStatement0},
	Version: "2012-10-17",
}

var LambdaEdgeIAMRoleAssumeRolePolicyDocumentStatement0 = PolicyStatement{
	Action: []any{"sts:AssumeRole"},
	Effect: "Allow",
	Principal: ServicePrincipal{"edgelambda.amazonaws.com", "lambda.amazonaws.com"},
	Sid: "AllowLambdaServiceToAssumeRole",
}

var LambdaEdgeIAMRole = iam.Role{
	AssumeRolePolicyDocument: LambdaEdgeIAMRoleAssumeRolePolicyDocument,
	ManagedPolicyArns: []any{"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole", "arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"},
	Path: "/",
	Policies: []any{LambdaEdgeIAMRolePolicyPublishNewLambdaEdge},
	RoleName: Sub{String: "${AppName}-iam-lambda-edge-role-${Environment}"},
}

var AdministratorAccessIAMRoleAssumeRolePolicyDocument = PolicyDocument{
	Statement: []any{AdministratorAccessIAMRoleAssumeRolePolicyDocumentStatement0},
	Version: "2012-10-17",
}

var AdministratorAccessIAMRoleAssumeRolePolicyDocumentStatement0 = PolicyStatement{
	Action: []any{"sts:AssumeRole"},
	Effect: "Allow",
	Principal: ServicePrincipal{"ec2.amazonaws.com"},
}

var AdministratorAccessIAMRole = iam.Role{
	AssumeRolePolicyDocument: AdministratorAccessIAMRoleAssumeRolePolicyDocument,
	ManagedPolicyArns: []any{Sub{String: "arn:${AWS::Partition}:iam::aws:policy/AdministratorAccess"}},
	Path: "/",
	RoleName: Sub{String: "AdministratorAccess-${AppName}"},
}

var LoggingBucketKMSKeyKeyPolicy = PolicyDocument{
	Statement: []any{LoggingBucketKMSKeyKeyPolicyStatement0, LoggingBucketKMSKeyKeyPolicyStatement1},
	Version: "2012-10-17",
}

var LoggingBucketKMSKeyKeyPolicyStatement1 = PolicyStatement{
	Action: []any{"kms:Put*", "kms:ScheduleKeyDeletion", "kms:CancelKeyDeletion", "kms:Describe*", "kms:Revoke*", "kms:Disable*", "kms:Enable*", "kms:Delete*", "kms:List*", "kms:Update*", "kms:Create*"},
	Effect: "Allow",
	Principal: AWSPrincipal{Sub{String: "arn:${AWS::Partition}:iam::${AWS::AccountId}:role/AdministratorAccess-${AppName}"}},
	Resource: "*",
	Sid: "Allow administration of the key",
}

var LoggingBucketKMSKeyKeyPolicyStatement0 = PolicyStatement{
	Action: []any{"kms:*"},
	Effect: "Allow",
	Principal: AWSPrincipal{Sub{String: "arn:${AWS::Partition}:iam::${AWS::AccountId}:root"}},
	Resource: "*",
	Sid: "Enable IAM policies to allow access to the Key",
}

var LoggingBucketKMSKey = kms.Key{
	Description: "Logging S3 Bucket KMS Key",
	EnableKeyRotation: true,
	Enabled: true,
	KeyPolicy: LoggingBucketKMSKeyKeyPolicy,
}

var LoggingBucketKMSKeyAlias = kms.Alias{
	AliasName: Sub{String: "alias/${AppName}/${Environment}/s3-logging-kms"},
	TargetKeyId: LoggingBucketKMSKey,
}
