// Package gitlabserver_pkg contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package gitlabserver_pkg

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/cloudfront"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
)

var CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig = cloudfront.CachePolicy_QueryStringsConfig{
	QueryStringBehavior: "all",
}

var CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig = cloudfront.CachePolicy_HeadersConfig{
	HeaderBehavior: "whitelist",
	Headers: []any{"Accept-Charset", "Authorization", "Origin", "Accept", "Referer", "Host", "Accept-Language", "Accept-Encoding", "Accept-Datetime"},
}

var CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig = cloudfront.CachePolicy_CookiesConfig{
	CookieBehavior: "all",
}

var CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOrigin = cloudfront.CachePolicy_ParametersInCacheKeyAndForwardedToOrigin{
	CookiesConfig: CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOriginCookiesConfig,
	EnableAcceptEncodingGzip: false,
	HeadersConfig: CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOriginHeadersConfig,
	QueryStringsConfig: CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOriginQueryStringsConfig,
}

var CloudFrontCachePolicyCachePolicyConfig = cloudfront.CachePolicy_CachePolicyConfig{
	DefaultTTL: 86400,
	MaxTTL: 31536000,
	MinTTL: 1,
	Name: "gitlab-server",
	ParametersInCacheKeyAndForwardedToOrigin: CloudFrontCachePolicyCachePolicyConfigParametersInCacheKeyAndForwardedToOrigin,
}

var CloudFrontCachePolicy = cloudfront.CachePolicy{
	CachePolicyConfig: CloudFrontCachePolicyCachePolicyConfig,
}

var NetworkInternetGatewayTagName = Tag{
	Key: "Name",
	Value: "gitlab-server",
}

var NetworkInternetGateway = ec2.InternetGateway{
	Tags: []any{NetworkInternetGatewayTagName},
}

var NetworkPublicSubnet1EIPTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-1-eip",
}

var NetworkPublicSubnet1EIP = ec2.EIP{
	Domain: "vpc",
	Tags: []any{NetworkPublicSubnet1EIPTagName},
}

var NetworkPublicSubnet2EIPTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-eip",
}

var NetworkPublicSubnet2EIP = ec2.EIP{
	Domain: "vpc",
	Tags: []any{NetworkPublicSubnet2EIPTagName},
}

var NetworkVPCTagName = Tag{
	Key: "Name",
	Value: "gitlab-server",
}

var NetworkVPC = ec2.VPC{
	CidrBlock: "10.0.0.0/16",
	EnableDnsHostnames: true,
	EnableDnsSupport: true,
	InstanceTenancy: "default",
	Tags: []any{NetworkVPCTagName},
}

var InstanceSecurityGroupTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-isg",
}

var InstanceSecurityGroupSecurityGroupIngressPortN80 = ec2.SecurityGroup_Ingress{
	Description: "Allow HTTP from com.amazonaws.global.cloudfront.origin-facing",
	FromPort: 80,
	IpProtocol: "tcp",
	SourcePrefixListId: FindInMap{"Prefixes", AWS_REGION, "PrefixList"},
	ToPort: 80,
}

var InstanceSecurityGroupSecurityGroupEgress1 = ec2.SecurityGroup_Egress{
	CidrIp: "0.0.0.0/0",
	Description: "Allow all outbound traffic by default",
	IpProtocol: "-1",
}

var InstanceSecurityGroup = ec2.SecurityGroup{
	GroupDescription: "gitlab-server-isg",
	SecurityGroupEgress: []any{InstanceSecurityGroupSecurityGroupEgress1},
	SecurityGroupIngress: []any{InstanceSecurityGroupSecurityGroupIngressPortN80},
	Tags: []any{InstanceSecurityGroupTagName},
	VpcId: NetworkVPC,
}

var NetworkPrivateSubnet1RouteTableTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-private-subnet-1-rt",
}

var NetworkPrivateSubnet1RouteTable = ec2.RouteTable{
	Tags: []any{NetworkPrivateSubnet1RouteTableTagName},
	VpcId: NetworkVPC,
}

var NetworkPrivateSubnet1SubnetTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-private-subnet-1",
}

var NetworkPrivateSubnet1Subnet = ec2.Subnet{
	AvailabilityZone: Select{Index: 0, List: GetAZs{Region: AWS_REGION}},
	CidrBlock: "10.0.128.0/18",
	MapPublicIpOnLaunch: false,
	Tags: []any{NetworkPrivateSubnet1SubnetTagName},
	VpcId: NetworkVPC,
}

var NetworkPrivateSubnet1RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: NetworkPrivateSubnet1RouteTable,
	SubnetId: NetworkPrivateSubnet1Subnet,
}

var NetworkPrivateSubnet2RouteTableTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-private-subnet-2-rt",
}

var NetworkPrivateSubnet2RouteTable = ec2.RouteTable{
	Tags: []any{NetworkPrivateSubnet2RouteTableTagName},
	VpcId: NetworkVPC,
}

var NetworkPrivateSubnet2SubnetTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-private-subnet-2",
}

var NetworkPrivateSubnet2Subnet = ec2.Subnet{
	AvailabilityZone: Select{Index: 1, List: GetAZs{Region: AWS_REGION}},
	CidrBlock: "10.0.192.0/18",
	MapPublicIpOnLaunch: false,
	Tags: []any{NetworkPrivateSubnet2SubnetTagName},
	VpcId: NetworkVPC,
}

var NetworkPrivateSubnet2RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: NetworkPrivateSubnet2RouteTable,
	SubnetId: NetworkPrivateSubnet2Subnet,
}

var NetworkPublicSubnet1TagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-1",
}

var NetworkPublicSubnet1 = ec2.Subnet{
	AvailabilityZone: Select{Index: 0, List: GetAZs{Region: AWS_REGION}},
	CidrBlock: "10.0.0.0/18",
	MapPublicIpOnLaunch: true,
	Tags: []any{NetworkPublicSubnet1TagName},
	VpcId: NetworkVPC,
}

var NetworkPublicSubnet1NATGatewayTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-1-ngw",
}

var NetworkPublicSubnet1NATGateway = ec2.NatGateway{
	AllocationId: NetworkPublicSubnet1EIP.AllocationId,
	SubnetId: NetworkPublicSubnet1,
	Tags: []any{NetworkPublicSubnet1NATGatewayTagName},
}

var NetworkPrivateSubnet1DefaultRoute = ec2.Route{
	DestinationCidrBlock: "0.0.0.0/0",
	NatGatewayId: NetworkPublicSubnet1NATGateway,
	RouteTableId: NetworkPrivateSubnet1RouteTable,
}

var NetworkPublicSubnet1RouteTableTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-1-rt",
}

var NetworkPublicSubnet1RouteTable = ec2.RouteTable{
	Tags: []any{NetworkPublicSubnet1RouteTableTagName},
	VpcId: NetworkVPC,
}

var NetworkPublicSubnet1DefaultRoute = ec2.Route{
	DestinationCidrBlock: "0.0.0.0/0",
	GatewayId: NetworkInternetGateway,
	RouteTableId: NetworkPublicSubnet1RouteTable,
}

var NetworkPublicSubnet1RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: NetworkPublicSubnet1RouteTable,
	SubnetId: NetworkPublicSubnet1,
}

var NetworkPublicSubnet2TagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-2",
}

var NetworkPublicSubnet2 = ec2.Subnet{
	AvailabilityZone: Select{Index: 1, List: GetAZs{Region: AWS_REGION}},
	CidrBlock: "10.0.64.0/18",
	MapPublicIpOnLaunch: true,
	Tags: []any{NetworkPublicSubnet2TagName},
	VpcId: NetworkVPC,
}

var NetworkPublicSubnet2NATGatewayTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-ngw",
}

var NetworkPublicSubnet2NATGateway = ec2.NatGateway{
	AllocationId: NetworkPublicSubnet2EIP.AllocationId,
	SubnetId: NetworkPublicSubnet2,
	Tags: []any{NetworkPublicSubnet2NATGatewayTagName},
}

var NetworkPrivateSubnet2DefaultRoute = ec2.Route{
	DestinationCidrBlock: "0.0.0.0/0",
	NatGatewayId: NetworkPublicSubnet2NATGateway,
	RouteTableId: NetworkPrivateSubnet2RouteTable,
}

var NetworkPublicSubnet2RouteTableTagName = Tag{
	Key: "Name",
	Value: "gitlab-server-public-subnet-2-rt",
}

var NetworkPublicSubnet2RouteTable = ec2.RouteTable{
	Tags: []any{NetworkPublicSubnet2RouteTableTagName},
	VpcId: NetworkVPC,
}

var NetworkPublicSubnet2DefaultRoute = ec2.Route{
	DestinationCidrBlock: "0.0.0.0/0",
	GatewayId: NetworkInternetGateway,
	RouteTableId: NetworkPublicSubnet2RouteTable,
}

var NetworkPublicSubnet2RouteTableAssociation = ec2.SubnetRouteTableAssociation{
	RouteTableId: NetworkPublicSubnet2RouteTable,
	SubnetId: NetworkPublicSubnet2,
}

var NetworkVPCGW = ec2.VPCGatewayAttachment{
	InternetGatewayId: NetworkInternetGateway,
	VpcId: NetworkVPC,
}

var CloudFrontDistributionDistributionConfigOrigin1CustomOriginConfig = cloudfront.Distribution_CustomOriginConfig{
	HTTPPort: 80,
	OriginProtocolPolicy: "http-only",
}

var CloudFrontDistributionDistributionConfigOrigin1 = cloudfront.Distribution_Origin{
	CustomOriginConfig: &CloudFrontDistributionDistributionConfigOrigin1CustomOriginConfig,
	DomainName: Server.PublicDnsName,
	Id: Sub{String: "CloudFront-${AWS::StackName}"},
}

var CloudFrontDistributionDistributionConfigDefaultCacheBehavior = cloudfront.Distribution_DefaultCacheBehavior{
	AllowedMethods: []any{"GET", "HEAD", "OPTIONS", "PUT", "PATCH", "POST", "DELETE"},
	CachePolicyId: CloudFrontCachePolicy,
	OriginRequestPolicyId: "216adef6-5c7f-47e4-b989-5492eafa07d3",
	TargetOriginId: Sub{String: "CloudFront-${AWS::StackName}"},
	ViewerProtocolPolicy: "allow-all",
}

var CloudFrontDistributionDistributionConfigCacheBehavior1 = cloudfront.Distribution_CacheBehavior{
	AllowedMethods: []any{"GET", "HEAD", "OPTIONS", "PUT", "PATCH", "POST", "DELETE"},
	CachePolicyId: "4135ea2d-6df8-44a3-9df3-4b5a84be39ad",
	Compress: false,
	OriginRequestPolicyId: "216adef6-5c7f-47e4-b989-5492eafa07d3",
	PathPattern: "/proxy/*",
	TargetOriginId: Sub{String: "CloudFront-${AWS::StackName}"},
	ViewerProtocolPolicy: "allow-all",
}

var CloudFrontDistributionTagDescription = Tag{
	Key: "Description",
	Value: "gitlab-server",
}

var CloudFrontDistributionTagName = Tag{
	Key: "Name",
	Value: "gitlab-server",
}

var CloudFrontDistributionDistributionConfig = cloudfront.Distribution_DistributionConfig{
	CacheBehaviors: []any{CloudFrontDistributionDistributionConfigCacheBehavior1},
	DefaultCacheBehavior: CloudFrontDistributionDistributionConfigDefaultCacheBehavior,
	Enabled: true,
	HttpVersion: "http2",
	Origins: []any{CloudFrontDistributionDistributionConfigOrigin1},
}

var CloudFrontDistribution = cloudfront.Distribution{
	DistributionConfig: CloudFrontDistributionDistributionConfig,
	Tags: []any{CloudFrontDistributionTagName, CloudFrontDistributionTagDescription},
}
