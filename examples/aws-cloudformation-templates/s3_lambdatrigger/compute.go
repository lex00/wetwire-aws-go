// Package s3_lambdatrigger contains CloudFormation resources.
// Compute resources: EC2, Lambda, ECS, etc.
//
// Generated by wetwire-aws import.
package s3_lambdatrigger

import (
	"github.com/lex00/cloudformation-schema-go/enums"
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/lambda"
)

var S3TriggerLambdaFunctionCode = lambda.Function_Code{
	ZipFile: `import json
def lambda_handler(event,context):
    print(event)
    return "Hello... This is a test S3 trigger Lambda Function"
`,
}

var S3TriggerLambdaFunction = lambda.Function{
	Code: S3TriggerLambdaFunctionCode,
	Handler: "index.lambda_handler",
	Role: LambdaIAMRole.Arn,
	Runtime: enums.LambdaRuntimePython39,
	Timeout: 30,
}

var LambdaInvokePermission = lambda.Permission{
	Action: "lambda:InvokeFunction",
	FunctionName: S3TriggerLambdaFunction.Arn,
	Principal: "s3.amazonaws.com",
	SourceAccount: AWS_ACCOUNT_ID,
	SourceArn: Sub{String: "arn:${AWS::Partition}:s3:::${NotificationBucket}"},
}
