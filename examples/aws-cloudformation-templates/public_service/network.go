// Package public_service contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package public_service

import (
	"github.com/lex00/cloudformation-schema-go/enums"
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/elasticloadbalancingv2"
)

var TargetGroup = elasticloadbalancingv2.TargetGroup{
	HealthCheckIntervalSeconds: 6,
	HealthCheckPath: "/",
	HealthCheckProtocol: "HTTP",
	HealthCheckTimeoutSeconds: 5,
	HealthyThresholdCount: 2,
	Name: ServiceName,
	Port: 80,
	Protocol: enums.Elbv2ProtocolEnumHttp,
	UnhealthyThresholdCount: 2,
	VpcId: ImportValue{Join{Delimiter: ":", Values: []any{
	StackName,
	"VPCId",
}}},
}

var LoadBalancerRuleCondition1 = elasticloadbalancingv2.ListenerRule_RuleCondition{
	Field: "path-pattern",
	Values: []any{Path},
}

var LoadBalancerRuleActionForward = elasticloadbalancingv2.ListenerRule_Action{
	TargetGroupArn: TargetGroup,
	Type_: "forward",
}

var LoadBalancerRule = elasticloadbalancingv2.ListenerRule{
	Actions: []any{LoadBalancerRuleActionForward},
	Conditions: []any{LoadBalancerRuleCondition1},
	ListenerArn: ImportValue{Join{Delimiter: ":", Values: []any{
	StackName,
	"PublicListener",
}}},
	Priority: Priority,
}
