// Package cloudformation_codepipeline_template contains CloudFormation resources.
// Messaging resources: SNS, SQS, EventBridge, etc.
//
// Generated by wetwire-aws import.
package cloudformation_codepipeline_template

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/events"
)

var EventRuleTargetCodepipelineNegPipel = events.Rule_Target{
	Arn: Join{Delimiter: "", Values: []any{
	"arn:aws:codepipeline:",
	AWS_REGION,
	":",
	AWS_ACCOUNT_ID,
	":",
	Pipeline,
}},
	Id: "codepipeline-Pipeline",
	RoleArn: EventRole.Arn,
}

var EventRule = events.Rule{
	EventPattern: map[string]any{
	"detail": map[string]any{
	"event": Any("referenceCreated", "referenceUpdated"),
	"referenceName": Any("main"),
	"referenceType": Any("branch"),
},
	"detail-type": Any("CodeCommit Repository State Change"),
	"resources": Any(ImportValue{Sub{String: "${CodeBuildStack}-CodeCommitArn"}}),
	"source": Any("aws.codecommit"),
},
	Targets: List(EventRuleTargetCodepipelineNegPipel),
}
