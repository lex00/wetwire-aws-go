// Package elb_access_logs_and_connection_draining contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package elb_access_logs_and_connection_draining

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
	"github.com/lex00/wetwire-aws-go/resources/elasticloadbalancing"
)

var InstanceSecurityGroupSecurityGroupIngressPortN80 = ec2.SecurityGroup_Ingress{
	CidrIp: "0.0.0.0/0",
	FromPort: "80",
	IpProtocol: "tcp",
	ToPort: "80",
}

var InstanceSecurityGroupSecurityGroupIngressPortN22 = ec2.SecurityGroup_Ingress{
	CidrIp: SSHLocation,
	FromPort: "22",
	IpProtocol: "tcp",
	ToPort: "22",
}

var InstanceSecurityGroup = ec2.SecurityGroup{
	GroupDescription: "Enable SSH access and HTTP access on the configured port",
	SecurityGroupIngress: List(InstanceSecurityGroupSecurityGroupIngressPortN22, InstanceSecurityGroupSecurityGroupIngressPortN80),
}

var ElasticLoadBalancerListener1 = elasticloadbalancing.LoadBalancer_Listeners{
	InstancePort: "80",
	LoadBalancerPort: "80",
	Protocol: "HTTP",
}

var ElasticLoadBalancerHealthCheck = elasticloadbalancing.LoadBalancer_HealthCheck{
	HealthyThreshold: "3",
	Interval: "30",
	Target: "HTTP:80/",
	Timeout: "5",
	UnhealthyThreshold: "5",
}

var ElasticLoadBalancerConnectionDrainingPolicy = elasticloadbalancing.LoadBalancer_ConnectionDrainingPolicy{
	Enabled: "true",
	Timeout: "300",
}

var ElasticLoadBalancerAccessLoggingPolicy = elasticloadbalancing.LoadBalancer_AccessLoggingPolicy{
	EmitInterval: "60",
	Enabled: "true",
	S3BucketName: LogsBucket,
	S3BucketPrefix: "Logs",
}

var ElasticLoadBalancer = elasticloadbalancing.LoadBalancer{
	AccessLoggingPolicy: &ElasticLoadBalancerAccessLoggingPolicy,
	AvailabilityZones: GetAZs{},
	ConnectionDrainingPolicy: &ElasticLoadBalancerConnectionDrainingPolicy,
	CrossZone: "true",
	HealthCheck: &ElasticLoadBalancerHealthCheck,
	Listeners: List(ElasticLoadBalancerListener1),
}
