// Package elb_access_logs_and_connection_draining contains CloudFormation resources.
// Storage resources: S3, EFS, etc.
//
// Generated by wetwire-aws import.
package elb_access_logs_and_connection_draining

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/s3"
)

var LogsBucket = s3.Bucket{
	AccessControl: "Private",
}

var LogsBucketPolicyPolicyDocument = PolicyDocument{
	Statement: Any(LogsBucketPolicyPolicyDocumentStatement0, LogsBucketPolicyPolicyDocumentStatement1),
	Version: "2012-10-17",
}

var LogsBucketPolicyPolicyDocumentStatement1 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: Any(Sub{String: "arn:${AWS::Partition}:s3:::${LogsBucket}/Logs/AWSLogs/${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${LogsBucket}/Logs/AWSLogs/${AWS::AccountId}/*"}),
}

var LogsBucketPolicyPolicyDocumentStatement0 = PolicyStatement{
	Action: Any("s3:PutObject"),
	Effect: "Allow",
	Principal: AWSPrincipal{FindInMap{"Region2ELBAccountId", AWS_REGION, "AccountId"}},
	Resource: Any(Sub{String: "arn:${AWS::Partition}:s3:::${LogsBucket}/Logs/AWSLogs/${AWS::AccountId}/*"}),
	Sid: "ELBAccessLogs20130930",
}

var LogsBucketPolicy = s3.BucketPolicy{
	Bucket: LogsBucket,
	PolicyDocument: LogsBucketPolicyPolicyDocument,
}
