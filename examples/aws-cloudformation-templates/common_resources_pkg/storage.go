// Package common_resources_pkg contains CloudFormation resources.
// Storage resources: S3, EFS, etc.
//
// Generated by wetwire-aws import.
package common_resources_pkg

import (
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/s3"
)

var StorageBucketPolicyPolicyPolicyDocument = PolicyDocument{
	Statement: []any{StorageBucketPolicyPolicyPolicyDocumentStatement0, StorageBucketPolicyPolicyPolicyDocumentStatement1},
	Version: "2012-10-17",
}

var StorageBucketPolicyPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:PutObject",
	Condition: Json{ArnLike: Json{"aws:SourceArn": Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}"}}, StringEquals: Json{"aws:SourceAccount": AWS_ACCOUNT_ID}},
	Effect: "Allow",
	Principal: ServicePrincipal{"logging.s3.amazonaws.com"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}/*"}},
}

var StorageBucketPolicyPolicyPolicyDocumentStatement0 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-${AWS::Region}-${AWS::AccountId}/*"}},
}

var StorageBucketPolicyPolicy = s3.BucketPolicy{
	Bucket: Sub{String: "${AppName}-${AWS::Region}-${AWS::AccountId}"},
	PolicyDocument: StorageBucketPolicyPolicyPolicyDocument,
}

var StorageLogBucketObjectLockConfigurationRuleDefaultRetention = s3.Bucket_DefaultRetention{
	Mode: "COMPLIANCE",
	Years: 1,
}

var StorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var StorageLogBucketObjectLockConfigurationRule = s3.Bucket_ObjectLockRule{
	DefaultRetention: StorageLogBucketObjectLockConfigurationRuleDefaultRetention,
}

var StorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: StorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var StorageLogBucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var StorageLogBucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var StorageLogBucketObjectLockConfiguration = s3.Bucket_ObjectLockConfiguration{
	ObjectLockEnabled: "Enabled",
	Rule: StorageLogBucketObjectLockConfigurationRule,
}

var StorageLogBucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: List(StorageLogBucketBucketEncryptionServerSideEncryptionConfiguration1),
}

var StorageLogBucket = s3.Bucket{
	BucketEncryption: StorageLogBucketBucketEncryption,
	BucketName: Sub{String: "${AppName}-logs-${AWS::Region}-${AWS::AccountId}"},
	ObjectLockConfiguration: StorageLogBucketObjectLockConfiguration,
	ObjectLockEnabled: true,
	PublicAccessBlockConfiguration: StorageLogBucketPublicAccessBlockConfiguration,
	VersioningConfiguration: StorageLogBucketVersioningConfiguration,
}

var StorageLogBucketPolicyPolicyPolicyDocument = PolicyDocument{
	Statement: []any{StorageLogBucketPolicyPolicyPolicyDocumentStatement0, StorageLogBucketPolicyPolicyPolicyDocumentStatement1},
	Version: "2012-10-17",
}

var StorageLogBucketPolicyPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:PutObject",
	Condition: Json{ArnLike: Json{"aws:SourceArn": Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}"}}, StringEquals: Json{"aws:SourceAccount": AWS_ACCOUNT_ID}},
	Effect: "Allow",
	Principal: ServicePrincipal{"logging.s3.amazonaws.com"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}/*"}},
}

var StorageLogBucketPolicyPolicyPolicyDocumentStatement0 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-logs-${AWS::Region}-${AWS::AccountId}/*"}},
}

var StorageLogBucketPolicyPolicy = s3.BucketPolicy{
	Bucket: Sub{String: "${AppName}-logs-${AWS::Region}-${AWS::AccountId}"},
	PolicyDocument: StorageLogBucketPolicyPolicyPolicyDocument,
}

var StorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var StorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: StorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var StorageReplicaBucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var StorageReplicaBucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var StorageReplicaBucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: List(StorageReplicaBucketBucketEncryptionServerSideEncryptionConfiguration1),
}

var StorageReplicaBucket = s3.Bucket{
	BucketEncryption: StorageReplicaBucketBucketEncryption,
	BucketName: Sub{String: "${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"},
	ObjectLockEnabled: false,
	PublicAccessBlockConfiguration: StorageReplicaBucketPublicAccessBlockConfiguration,
	VersioningConfiguration: StorageReplicaBucketVersioningConfiguration,
}

var StorageReplicaBucketPolicyPolicyPolicyDocument = PolicyDocument{
	Statement: []any{StorageReplicaBucketPolicyPolicyPolicyDocumentStatement0, StorageReplicaBucketPolicyPolicyPolicyDocumentStatement1},
	Version: "2012-10-17",
}

var StorageReplicaBucketPolicyPolicyPolicyDocumentStatement1 = PolicyStatement{
	Action: "s3:PutObject",
	Condition: Json{ArnLike: Json{"aws:SourceArn": Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"}}, StringEquals: Json{"aws:SourceAccount": AWS_ACCOUNT_ID}},
	Effect: "Allow",
	Principal: ServicePrincipal{"logging.s3.amazonaws.com"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}/*"}},
}

var StorageReplicaBucketPolicyPolicyPolicyDocumentStatement0 = DenyStatement{
	Action: "s3:*",
	Condition: Json{Bool: Json{"aws:SecureTransport": false}},
	Principal: AWSPrincipal{"*"},
	Resource: []any{Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"}, Sub{String: "arn:${AWS::Partition}:s3:::${AppName}-replicas-${AWS::Region}-${AWS::AccountId}/*"}},
}

var StorageReplicaBucketPolicyPolicy = s3.BucketPolicy{
	Bucket: Sub{String: "${AppName}-replicas-${AWS::Region}-${AWS::AccountId}"},
	PolicyDocument: StorageReplicaBucketPolicyPolicyPolicyDocument,
}

var StorageBucketReplicationConfigurationRuleEnabledDestination = s3.Bucket_ReplicationDestination{
	Bucket: StorageReplicaBucket.Arn,
}

var StorageBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault = s3.Bucket_ServerSideEncryptionByDefault{
	SSEAlgorithm: "AES256",
}

var StorageBucketReplicationConfigurationRuleEnabled = s3.Bucket_ReplicationRule{
	Destination: StorageBucketReplicationConfigurationRuleEnabledDestination,
	Status: "Enabled",
}

var StorageBucketBucketEncryptionServerSideEncryptionConfiguration1 = s3.Bucket_ServerSideEncryptionRule{
	ServerSideEncryptionByDefault: StorageBucketBucketEncryptionServerSideEncryptionConfiguration1ServerSideEncryptionByDefault,
}

var StorageBucketVersioningConfiguration = s3.Bucket_VersioningConfiguration{
	Status: "Enabled",
}

var StorageBucketReplicationConfiguration = s3.Bucket_ReplicationConfiguration{
	Role: StorageReplicationRole.Arn,
	Rules: List(StorageBucketReplicationConfigurationRuleEnabled),
}

var StorageBucketPublicAccessBlockConfiguration = s3.Bucket_PublicAccessBlockConfiguration{
	BlockPublicAcls: true,
	BlockPublicPolicy: true,
	IgnorePublicAcls: true,
	RestrictPublicBuckets: true,
}

var StorageBucketLoggingConfiguration = s3.Bucket_LoggingConfiguration{
	DestinationBucketName: StorageLogBucket,
}

var StorageBucketBucketEncryption = s3.Bucket_BucketEncryption{
	ServerSideEncryptionConfiguration: List(StorageBucketBucketEncryptionServerSideEncryptionConfiguration1),
}

var StorageBucket = s3.Bucket{
	BucketEncryption: StorageBucketBucketEncryption,
	BucketName: Sub{String: "${AppName}-${AWS::Region}-${AWS::AccountId}"},
	LoggingConfiguration: StorageBucketLoggingConfiguration,
	ObjectLockEnabled: false,
	PublicAccessBlockConfiguration: StorageBucketPublicAccessBlockConfiguration,
	ReplicationConfiguration: StorageBucketReplicationConfiguration,
	VersioningConfiguration: StorageBucketVersioningConfiguration,
}
