// Package load_balancer contains CloudFormation resources.
// Network resources: VPC, Subnets, Load Balancers, CloudFront, etc.
//
// Generated by wetwire-aws import.
package load_balancer

import (
	"github.com/lex00/cloudformation-schema-go/enums"
	. "github.com/lex00/wetwire-aws-go/intrinsics"
	"github.com/lex00/wetwire-aws-go/resources/ec2"
	"github.com/lex00/wetwire-aws-go/resources/elasticloadbalancingv2"
)

var LoadBalancerSecurityGroupSecurityGroupIngressPortN443 = ec2.SecurityGroup_Ingress{
	CidrIp: "0.0.0.0/0",
	Description: "Allow from anyone on port 443",
	FromPort: 443,
	IpProtocol: "tcp",
	ToPort: 443,
}

var LoadBalancerSecurityGroup = ec2.SecurityGroup{
	GroupDescription: "Automatically created Security Group for ELB",
	SecurityGroupIngress: List(LoadBalancerSecurityGroupSecurityGroupIngressPortN443),
	VpcId: VPCId,
}

var LoadBalancerLoadBalancerAttributeRoutinghttpdropinval = elasticloadbalancingv2.LoadBalancer_LoadBalancerAttribute{
	Key: "routing.http.drop_invalid_header_fields.enabled",
	Value: true,
}

var LoadBalancerLoadBalancerAttributeDeletionprotectionen = elasticloadbalancingv2.LoadBalancer_LoadBalancerAttribute{
	Key: "deletion_protection.enabled",
	Value: false,
}

var LoadBalancer = elasticloadbalancingv2.LoadBalancer{
	LoadBalancerAttributes: List(LoadBalancerLoadBalancerAttributeDeletionprotectionen, LoadBalancerLoadBalancerAttributeRoutinghttpdropinval),
	Scheme: "internet-facing",
	SecurityGroups: Any(LoadBalancerSecurityGroup.GroupId),
	Subnets: Any(PublicSubnet1, PublicSubnet2),
	Type_: "application",
}

var LoadBalancerEgress = ec2.SecurityGroupEgress{
	Description: "Load balancer to target",
	DestinationSecurityGroupId: DestinationSecurityGroupId,
	FromPort: 80,
	GroupId: LoadBalancerSecurityGroup.GroupId,
	IpProtocol: "tcp",
	ToPort: 80,
}

var TargetGroupTargetGroupAttributeStickinessenabled = elasticloadbalancingv2.TargetGroup_TargetGroupAttribute{
	Key: "stickiness.enabled",
	Value: "false",
}

var TargetGroupTargetGroupAttributeDeregistrationdelayt = elasticloadbalancingv2.TargetGroup_TargetGroupAttribute{
	Key: "deregistration_delay.timeout_seconds",
	Value: "10",
}

var TargetGroup = elasticloadbalancingv2.TargetGroup{
	Port: 80,
	Protocol: enums.Elbv2ProtocolEnumHttp,
	TargetGroupAttributes: List(TargetGroupTargetGroupAttributeDeregistrationdelayt, TargetGroupTargetGroupAttributeStickinessenabled),
	TargetType: enums.Elbv2TargetTypeEnumIp,
	VpcId: VPCId,
}

var LoadBalancerListenerDefaultActionForward = elasticloadbalancingv2.Listener_Action{
	TargetGroupArn: TargetGroup,
	Type_: "forward",
}

var LoadBalancerListenerCertificate1 = elasticloadbalancingv2.Listener_Certificate{
	CertificateArn: CertificateArn,
}

var LoadBalancerListener = elasticloadbalancingv2.Listener{
	Certificates: List(LoadBalancerListenerCertificate1),
	DefaultActions: List(LoadBalancerListenerDefaultActionForward),
	LoadBalancerArn: LoadBalancer,
	Port: 443,
	Protocol: enums.Elbv2ProtocolEnumHttps,
	SslPolicy: "ELBSecurityPolicy-TLS13-1-2-2021-06",
}
